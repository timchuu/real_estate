!function(){var e=function(t,e,r){switch(e){case"add":!function(t,e){var r,i;if(t&&t.controller&&t.controller.collection){if(r=t.controller.collection.dataitems.length,jQuery.isNumeric(e.index)&&0<=e.index&&e.index<=t.controller.collection.dataitems.length&&(r=Number(e.index)),e.$item&&t.controller.collection.addDataItem(e.$item,t.controller.collection.paths,r),e.$items)if(i=e.$items,jQuery.isArray(i))for(var n=i.length-1;0<=n;n--)t.controller.collection.addDataItem(i[n],t.controller.collection.paths,r);else i=i.find(t.options.itemPath).addBack(t.options.itemPath),jQuery(i.get().reverse()).each(function(){t.controller.collection.addDataItem(jQuery(this),t.controller.collection.paths,r)});t.observer.trigger(t.observer.events.unknownStatusesChanged,[!1])}}(t,r);break;case"del":n=r,(i=t)&&i.controller&&i.controller.collection&&(n.$item&&(i.controller.collection.delDataitem(n.$item),n.$item.remove()),n.$items&&(s=n.$items,jQuery.isArray(n.$items)&&(s=jQuery(n.$items).map(function(){return this.toArray()})),i.controller.collection.delDataitems(s),s.remove()),i.observer.trigger(i.observer.events.unknownStatusesChanged,[!1]));break;case"empty":t&&t.controller&&t.controller.collection&&(t.controller.collection.empty(),t.observer.trigger(t.observer.events.unknownStatusesChanged,[!1]));break;case"getDataItems":return e=null,t.controller&&t.controller.collection&&(e=t.controller.collection.dataitems),e;case"addControl":t&&t.panel&&t.controller&&(t.panel.addControl(r.$control),t.controller.addPaths(t.panel.paths))}var i,n,s},i=function(t,e){var n,r={observer:null,panel:null,controller:null,storage:null,$root:e};return r.options=jQuery.extend(!0,{debug:!1,command:"init",commandData:{},itemsBox:".list",itemPath:".list-item",panelPath:".panel",noResults:".jplist-no-results",redrawCallback:"",iosBtnPath:".jplist-ios-button",animateToTop:"html, body",animateToTopDuration:0,effect:"",duration:300,fps:24,storage:"",storageName:"jplist",cookiesExpiration:-1,deepLinking:!1,hashStart:"#",delimiter0:":",delimiter1:"|",delimiter2:"~",delimiter3:"!",historyLength:10},t),r.observer=new jQuery.fn.jplist.PubSub(r.$root,r.options),r.history=new jQuery.fn.jplist.History(r.$root,r.options,r.observer),r.panel=new jQuery.fn.jplist.PanelController(e,r.options,r.history,r.observer),r.storage=new jQuery.fn.jplist.Storage(r.options.storage,r.options.storageName,r.options.cookiesExpiration),r.itemControls=new jQuery.fn.jplist.ItemControlCollection(r.options,r.observer,r.history,r.$root),r.controller=new jQuery.fn.jplist.DOMController(r.$root,r.options,r.observer,r.panel.paths),(n=r).observer.on(n.observer.events.knownStatusesChanged,function(t,e){var r;if(e&&(r=n.panel.mergeStatuses(e))&&0<r.length&&(n.storage.save(r),n.controller.renderStatuses(r,n.history.getLastStatus()),r=!1,e)){for(var i=0;i<e.length;i++)if(e[i].isAnimateToTop){r=!0;break}r&&(r=jQuery(n.options.animateToTop).offset().top,jQuery("html, body").animate({scrollTop:r},n.options.animateToTopDuration))}}),n.observer.on(n.observer.events.unknownStatusesChanged,function(t,e){var r;0<(r=n.panel.getStatuses(e)).length&&(n.storage.save(r),n.controller.renderStatuses(r,n.history.getLastStatus()))}),n.observer.on(n.observer.events.statusesAppliedToList,function(t,e,r){n.panel.setStatuses(r),jQuery.fn.jplist.DeepLinksService.updateUrlPerControls(n.options,n.panel.getDeepLinksURLPerControls())}),n.observer.on(n.observer.events.statusesChangedByDeepLinks,function(t,e,r){n.panel.statusesChangedByDeepLinks(e,r)}),n.$root.find(n.options.iosBtnPath).on("click",function(){jQuery(this).next(n.options.panelPath).toggleClass("jplist-ios-show")}),r.options.deepLinking?r.panel.setStatusesByDeepLink():r.panel.setStatusesFromStorage(),jQuery.extend(this,r)};jQuery.fn.jplist=function(r){return r.command&&"init"!==r.command?(t=this.data("jplist"))?e(t,r.command,r.commandData):void 0:this.each(function(){var t,e=jQuery(this);t=new i(r,e),e.data("jplist",t)});var t},jQuery.jplist={},jQuery.fn.jplist.controls=jQuery.fn.jplist.controls||{},jQuery.fn.jplist.itemControls=jQuery.fn.jplist.itemControls||{},jQuery.fn.jplist.controlTypes={},jQuery.fn.jplist.itemControlTypes={},jQuery.fn.jplist.settings={},jQuery.fn.jplist.FiltersService=jQuery.fn.jplist.FiltersService||{},jQuery.fn.jplist.SortService=jQuery.fn.jplist.SortService||{}}(),jQuery.fn.jplist.PubSub=function(t,e){var r,i,n={options:e,$root:t,events:{unknownStatusesChanged:"1",knownStatusesChanged:"2",statusesChangedByDeepLinks:"3",listSorted:"4",listFiltered:"5",listPaginated:"6",dataItemAdded:"7",dataItemRemoved:"8",collectionReadyEvent:"9",statusesAppliedToList:"10"}};return r=n,i=jQuery.fn.trigger,r.options.debug&&(jQuery.fn.trigger=function(t){for(var e in r.events)if(r.events[e]==t){console.log(e,arguments);break}return i.apply(this,arguments)}),jQuery.extend(!0,jQuery({}),this,n)},jQuery.fn.jplist.History=function(t,e,r){this.options=e,this.observer=r,this.$root=t,this.statusesQueue=[],this.listStatusesQueue=[]},jQuery.fn.jplist.History.prototype.addStatuses=function(t){for(var e=0;e<t.length;e++)this.statusesQueue.push(t[e]),this.statusesQueue.length>this.options.historyLength&&this.statusesQueue.shift()},jQuery.fn.jplist.History.prototype.getLastStatus=function(){var t=null;return 0<this.statusesQueue.length&&(t=this.statusesQueue[this.statusesQueue.length-1]),t},jQuery.fn.jplist.History.prototype.getLastList=function(){var t=null;return 0<this.listStatusesQueue.length&&(t=this.listStatusesQueue[this.listStatusesQueue.length-1]),t},jQuery.fn.jplist.History.prototype.addList=function(t){this.listStatusesQueue.push(t),this.listStatusesQueue.length>this.options.historyLength&&this.listStatusesQueue.shift()},jQuery.fn.jplist.History.prototype.popList=function(){var t=null;return 0<this.listStatusesQueue.length&&(t=this.listStatusesQueue.pop()),t},jQuery.fn.jplist.StatusDTO=function(t,e,r,i,n,s,o,a){this.action=e,this.name=t,this.type=r,this.data=i,this.inStorage=n,this.inAnimation=s,this.isAnimateToTop=o,this.inDeepLinking=a},function(){jQuery.fn.jplist.StatusesService=jQuery.fn.jplist.StatusesService||{},jQuery.fn.jplist.StatusesService.getStatusesByAction=function(t,e){for(var r,i=[],n=0;n<e.length;n++)(r=e[n]).action===t&&i.push(r);return i},jQuery.fn.jplist.StatusesService.getSortStatuses=function(t){var e,r,i=[];if(t=jQuery.fn.jplist.StatusesService.getStatusesByAction("sort",t),jQuery.isArray(t))for(var n=0;n<t.length;n++)if((e=t[n])&&e.data&&e.data.sortGroup&&jQuery.isArray(e.data.sortGroup)&&0<e.data.sortGroup.length)for(var s=0;s<e.data.sortGroup.length;s++)r=new jQuery.fn.jplist.StatusDTO(e.name,e.action,e.type,e.data.sortGroup[s],e.inStorage,e.inAnimation,e.isAnimateToTop,e.inDeepLinking),i.push(r);else i.push(e);return i},jQuery.fn.jplist.StatusesService.getFilterStatuses=function(t){var e,r,i=[];if(t=jQuery.fn.jplist.StatusesService.getStatusesByAction("filter",t),jQuery.isArray(t))for(var n=0;n<t.length;n++)(e=t[n])&&e.data&&e.data.filterType&&(r=jQuery.fn.jplist.DTOMapperService.filters[e.data.filterType],jQuery.isFunction(r)&&i.push(e));return i};var a=function(t,e,r,i){for(var n,s=[],o=0;o<t.length;o++)(n=t[o])[e]===r&&(i&&(n.initialIndex=o),s.push(n));return s};jQuery.fn.jplist.StatusesService.add=function(t,e,r){var i,n,s;if(0===t.length)t.push(e);else if(0===(i=a(t,"action",e.action,!0)).length)t.push(e);else if(0===(n=a(i,"name",e.name,!1)).length)t.push(e);else{s=!1;for(var o=0;o<n.length;o++)(i=n[o]).type===e.type&&(s=!0,r&&(t[i.initialIndex]=e));s||t.push(e)}}}(),jQuery.fn.jplist.DTOMapperService=jQuery.fn.jplist.DTOMapperService||{},jQuery.fn.jplist.DTOMapperService.filters={},jQuery.fn.jplist.DTOMapperService.filters.TextFilter=function(t,e){var r=new jQuery.fn.jplist.PathModel(t.data.path,null);return jQuery.fn.jplist.FiltersService.textFilter(t.data.value,r,e,t.data.ignore,t.data.mode,t.data.not,t.data.and,t.data.or)},jQuery.fn.jplist.DTOMapperService.filters.path=function(t,e){var r=new jQuery.fn.jplist.PathModel(t.data.path,null);return jQuery.fn.jplist.FiltersService.pathFilter(r,e)},jQuery.fn.jplist.DTOMapperService.filters.range=function(t,e){var r=new jQuery.fn.jplist.PathModel(t.data.path,null);return jQuery.fn.jplist.FiltersService.rangeFilter(r,e,t.data.min,t.data.max,t.data.prev,t.data.next)},jQuery.fn.jplist.DTOMapperService.filters.date=function(t,e){var r=new jQuery.fn.jplist.PathModel(t.data.path,null);return jQuery.fn.jplist.FiltersService.dateFilter(t.data.year,t.data.month,t.data.day,r,e,t.data.format)},jQuery.fn.jplist.DTOMapperService.filters.dateRange=function(t,e){var r=new jQuery.fn.jplist.PathModel(t.data.path,null);return jQuery.fn.jplist.FiltersService.dateRangeFilter(r,e,t.data.format,t.data.prev_year,t.data.prev_month,t.data.prev_day,t.data.next_year,t.data.next_month,t.data.next_day)},jQuery.fn.jplist.DTOMapperService.filters.pathGroup=function(t,e){return jQuery.fn.jplist.FiltersService.pathGroupFilter(t.data.pathGroup,e)},jQuery.fn.jplist.DTOMapperService.filters.textGroup=function(t,e){return jQuery.fn.jplist.FiltersService.textGroupFilter(t.data.textGroup,t.data.logic,t.data.path,t.data.ignoreRegex,e,t.data.mode)},jQuery.fn.jplist.DTOMapperService.filters.textFilterPathGroup=function(t,e){return jQuery.fn.jplist.FiltersService.textFilterPathGroup(t.data.textAndPathsGroup,t.data.ignoreRegex,e,t.data.mode)},jQuery.fn.jplist.DTOMapperService.sort={},jQuery.fn.jplist.DTOMapperService.sort.text=function(t,e,r){var i=new jQuery.fn.jplist.PathModel(t.data.path,t.data.type);return jQuery.fn.jplist.SortService.textHelper(e,r,t.data.order,i,t.data.ignore||"")},jQuery.fn.jplist.DTOMapperService.sort.number=function(t,e,r){var i=new jQuery.fn.jplist.PathModel(t.data.path,t.data.type);return jQuery.fn.jplist.SortService.numbersHelper(e,r,t.data.order,i)},jQuery.fn.jplist.DTOMapperService.sort.datetime=function(t,e,r){var i=new jQuery.fn.jplist.PathModel(t.data.path,t.data.type);return jQuery.fn.jplist.SortService.datetimeHelper(e,r,t.data.order,i,t.data.dateTimeFormat||"")},jQuery.fn.jplist.PathModel=function(t,e){this.jqPath=t,this.dataType=e},jQuery.fn.jplist.PathModel.prototype.isEqual=function(t,e){var r=!1;return e?this.jqPath===t.jqPath&&(r=!0):this.jqPath===t.jqPath&&this.dataType===t.dataType&&(r=!0),r},jQuery.fn.jplist.DataItemMemberModel=function(t,e){this.$element=t,this.path=e,this.text=t.text(),this.html=t.html()},function(){var i=function(t,e){for(var r,i,n=[],s=0;s<e.length;s++)r=e[s],0<(i=t.$item.find(r.jqPath).addBack(r.jqPath)).length&&(r=new jQuery.fn.jplist.DataItemMemberModel(i,r),n.push(r));return r=new jQuery.fn.jplist.PathModel("",null),r=new jQuery.fn.jplist.DataItemMemberModel(t.$item,r),n.push(r),n};jQuery.fn.jplist.DataItemModel=function(t,e,r){this.pathitems=[],this.jqElement=this.$item=t,this.index=r,this.html=jQuery.fn.jplist.HelperService.getOuterHtml(t),this.pathitems=i(this,e)},jQuery.fn.jplist.DataItemModel.prototype.findPathitem=function(t){for(var e,r=null,i=0;i<this.pathitems.length;i++)if((e=this.pathitems[i]).path.isEqual(t,!0)){r=e;break}return r},jQuery.fn.jplist.DataItemModel.prototype.addPaths=function(t){this.pathitems=this.pathitems.concat(i(this,t))}}(),function(){var e=function(t,e){var r,i,n;if(0<(r=jQuery.fn.jplist.StatusesService.getFilterStatuses(e)).length){for(var s=0;s<r.length;s++)i=r[s],n=jQuery.fn.jplist.DTOMapperService.filters[i.data.filterType],t.dataview=n(i,t.dataview);t.observer.trigger(t.observer.events.listFiltered,[e,t])}},r=function(t,e){var r,i=null,n=0,s=0;if(0<(r=jQuery.fn.jplist.StatusesService.getStatusesByAction("paging",e)).length){for(var o=0;o<r.length;o++)(i=r[o]).data&&(jQuery.isNumeric(i.data.currentPage)&&(n=i.data.currentPage),jQuery.isNumeric(i.data.number)||"all"===i.data.number)&&(s=i.data.number);for(i=new jQuery.fn.jplist.PaginationService(n,s,t.dataview.length),n=0;n<r.length;n++)r[n].data&&(r[n].data.paging=i);t.dataview=jQuery.fn.jplist.FiltersService.pagerFilter(i,t.dataview),t.observer.trigger(t.observer.events.listPaginated,[e,t])}},i=function(t,e){var r=[];0<(r=jQuery.fn.jplist.StatusesService.getSortStatuses(e)).length&&(jQuery.fn.jplist.SortService.doubleSort(r,t.dataview),t.observer.trigger(t.observer.events.listSorted,[e,t]))},n=function(t){return jQuery(t.dataview).map(function(t,e){return e.jqElement.get()})},t=function(t){return jQuery(t.dataitems).map(function(t,e){return e.jqElement.get()})},s=function(t){t.dataview=jQuery.merge([],t.dataitems)},o=function(t,e){for(var r,i=-1,n=0;n<t.dataitems.length;n++)if(r=t.dataitems[n],(r=jQuery.fn.jplist.HelperService.getOuterHtml(r.jqElement))===jQuery.fn.jplist.HelperService.getOuterHtml(e)){i=n;break}return i},a=function(t,e){var r;-1!==(r=o(t,e))&&(t.dataitems.splice(r,1),t.observer.trigger(t.observer.events.dataItemRemoved,[e,t.dataitems]))},l=function(t,e,r,i){e=new jQuery.fn.jplist.DataItemModel(e,r,i),t.dataitems.splice(i,0,e),t.observer.trigger(t.observer.events.dataItemAdded,[e,t.dataitems])},u=function(t,e,r,i,n){for(var s;r<e.length;r++)3!==(s=e.eq(r)).get(0).nodeType&&(l(t,s,i,r),r+1<e.length&&0==r%50&&window.setTimeout(function(){u(t,e,r,i,n)},0))};jQuery.fn.jplist.Dataitems=function(t,e,r){this.dataitems=[],this.dataview=[],this.paths=r,this.observer=t,0<e.length&&(u(this,e,0,r,0),s(this)),this.observer.trigger(this.observer.events.collectionReadyEvent,[this])},jQuery.fn.jplist.Dataitems.prototype.addPaths=function(t){for(var e=0;e<this.dataitems.length;e++)this.dataitems[e].addPaths(t);s(this)},jQuery.fn.jplist.Dataitems.prototype.applyStatuses=function(t){return s(this),i(this,t),e(this,t),r(this,t),this.observer.trigger(this.observer.events.statusesAppliedToList,[this,t]),n(this)},jQuery.fn.jplist.Dataitems.prototype.filter=function(t){e(this,t)},jQuery.fn.jplist.Dataitems.prototype.sort=function(t){i(this,t)},jQuery.fn.jplist.Dataitems.prototype.pagination=function(t){r(this,t)},jQuery.fn.jplist.Dataitems.prototype.dataviewToJqueryObject=function(){return n(this)},jQuery.fn.jplist.Dataitems.prototype.dataitemsToJqueryObject=function(){return t(this)},jQuery.fn.jplist.Dataitems.prototype.resetDataview=function(){s(this)},jQuery.fn.jplist.Dataitems.prototype.empty=function(){t(this).detach(),this.dataitems=[],this.dataview=[]},jQuery.fn.jplist.Dataitems.prototype.addDataItem=function(t,e,r){l(this,t,e,r)},jQuery.fn.jplist.Dataitems.prototype.addDataItems=function(t,e,r){u(this,t,0,e,r),s(this)},jQuery.fn.jplist.Dataitems.prototype.delDataitem=function(t){a(this,t)},jQuery.fn.jplist.Dataitems.prototype.delDataitems=function(t){var e;e=this,t.each(function(){a(e,jQuery(this))})},jQuery.fn.jplist.Dataitems.prototype.indexOf=function(t){return o(this,t)},jQuery.fn.jplist.Dataitems.prototype.dataviewToString=function(){var t,e="";for(t=0;t<this.dataview.length;t++)e+=this.dataview[t].html;return e}}(),jQuery.fn.jplist.PaginationService=function(t,e,r){r=Number(r),isNaN(r)&&(r=0),r=this.itemsNumber=r,jQuery.isNumeric(e)?(e=Number(e),isNaN(e)&&(e=r)):e=r,this.itemsOnPage=e,e=(e=this.itemsOnPage)?Math.ceil(this.itemsNumber/e):0,e=this.pagesNumber=e,t=Number(t),isNaN(t)&&(t=0),e-1<t&&(t=0),this.currentPage=t,this.start=this.currentPage*this.itemsOnPage,(t=this.itemsNumber)<(e=this.start+this.itemsOnPage)&&(e=t),this.end=e,t=this.currentPage,this.prevPage=t<=0?0:t-1,t=this.currentPage,e=this.pagesNumber,this.nextPage=0===e?0:e-1<=t?e-1:t+1},jQuery.fn.jplist.PaginationGoogleService=function(t,e,r){r=Number(r),isNaN(r)&&(r=0),r=this.itemsNumber=r,jQuery.isNumeric(e)?(e=Number(e),isNaN(e)&&(e=r)):e=r,this.itemsOnPage=e,e=(e=this.itemsOnPage)?Math.ceil(this.itemsNumber/e):0,e=this.pagesNumber=e,t=Number(t),isNaN(t)&&(t=0),e-1<t&&(t=0),this.currentPage=t,this.start=this.currentPage*this.itemsOnPage,(t=this.itemsNumber)<(e=this.start+this.itemsOnPage)&&(e=t),this.end=e,t=this.currentPage,this.prevPage=t<=0?0:t-1,t=this.currentPage,e=this.pagesNumber,this.nextPage=0===e?0:e-1<=t?e-1:t+1},jQuery.fn.jplist.FiltersService.dateFilter=function(t,e,r,i,n,s){for(var o,a,l=[],u=0;u<n.length;u++)(a=(o=n[u]).findPathitem(i))&&(jQuery.isNumeric(t)&&jQuery.isNumeric(e)&&jQuery.isNumeric(r)?(a=jQuery.fn.jplist.HelperService.formatDateTime(a.text,s))&&jQuery.isFunction(a.getFullYear)&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.getFullYear()===t&&a.getMonth()===e&&a.getDate()===r&&l.push(o)):l.push(o));return l},jQuery.fn.jplist.FiltersService.dateRangeFilter=function(t,e,r,i,n,s,o,a,l){for(var u,p,c,h,f=[],j=0;j<e.length;j++)(p=(u=e[j]).findPathitem(t))&&(c=!jQuery.isNumeric(i)||!jQuery.isNumeric(n)||!jQuery.isNumeric(s),h=!jQuery.isNumeric(o)||!jQuery.isNumeric(a)||!jQuery.isNumeric(l),c||h?f.push(u):(h=jQuery.fn.jplist.HelperService.formatDateTime(p.text,r))&&jQuery.isFunction(h.getFullYear)&&(p=new Date(i,n,s),c=new Date(o,a,l),h.setHours(0),h.setMinutes(0),h.setSeconds(0),p<=h&&h<=c&&f.push(u)));return f},jQuery.fn.jplist.FiltersService.pagerFilter=function(t,e){return e.slice(t.start,t.end)},jQuery.fn.jplist.FiltersService.pathFilter=function(t,e){for(var r,i=[],n=0;n<e.length;n++)r=e[n],"default"===t.jqPath?i.push(r):r.findPathitem(t)&&i.push(r);return i},jQuery.fn.jplist.FiltersService.pathGroupFilter=function(t,e){var r,i,n=[],s=[];if(t.length<=0)return e;for(i=0;i<t.length;i++)r=t[i],r=new jQuery.fn.jplist.PathModel(r,null),n.push(r);for(var o=0;o<e.length;o++){i=e[o];for(var a=0;a<n.length;a++){if("default"===(r=n[a]).jqPath){s.push(i);break}(r=i.findPathitem(r))&&s.push(i)}}return s},jQuery.fn.jplist.FiltersService.rangeFilter=function(t,e,r,i,n,s){for(var o,a,l=[],u=[],p=0;p<e.length;p++)u=[],(r=(o=e[p]).findPathitem(t))&&0<r.$element.length&&(r.$element.each(function(){var t=Number(jQuery(this).text().replace(/[^-0-9\.]+/g,""));isNaN(t)||u.push(t)}),0<u.length&&(i=Math.max.apply(Math,u),r=Math.min.apply(Math,u),a=!0,jQuery.isNumeric(n)&&r<n&&(a=!1),jQuery.isNumeric(s)&&s<i&&(a=!1),a&&l.push(o)));return l},function(){var a=function(t,e,r,i){var n;if(!(r<e.length))return jQuery.trim(jQuery.fn.jplist.HelperService.removeCharacters(t,i));if(n=e[r],!(1<(i=t.split(n)).length))return a(t,e,r+1);for(i={operator:n,nodes:i},n=0;n<i.nodes.length;n++)t=i.nodes[n],i.nodes[n]=a(t,e,r+1);return i},u=function(t,e,r,i,n){var s=!0;if(t.nodes){for(s=0;s<t.nodes.length;s++)u(t.nodes[s],e,r,i,n);var o,a;s=t.nodes,t=t.operator,o=-1!==e.indexOf(s[0]);for(var l=1;l<s.length;l++)""!==(a=s[l])&&(-1!==r.indexOf(t)&&(o=o&&-1===e.indexOf(a)),-1!==i.indexOf(t)&&(o=o&&-1!==e.indexOf(a)),-1!==n.indexOf(t)&&(o=o||-1!==e.indexOf(a)));s=o}else s=-1!==e.indexOf(t);return s};jQuery.fn.jplist.FiltersService.advancedSearchParse=function(t,e,r,i,n,s){var o;return i&&0!=i.length||(i=["-"]),n&&0!=n.length||(n=["&&"]),s&&0!=s.length||(s=[","]),o=s.concat(n).concat(i),e=a(e,o,0,r),u(e,t,i,n,s)}}(),jQuery.fn.jplist.FiltersService.textGroupFilter=function(t,e,r,i,n,s){var o,a,l,u,p;if(s=[],t.length<=0)return n;l=new jQuery.fn.jplist.PathModel(r,null);for(var c=0;c<n.length;c++)if(a=(r=n[c]).findPathitem(l),"default"===l.jqPath)s.push(r);else if(a)if(a=jQuery.fn.jplist.HelperService.removeCharacters(a.text,i),"or"===e){for(p=0;p<t.length;p++)if(o=t[p],o=jQuery.fn.jplist.HelperService.removeCharacters(o,i),jQuery.fn.jplist.FiltersService.advancedSearchParse(a,o)){s.push(r);break}}else{for(u=[],p=0;p<t.length;p++)o=t[p],o=jQuery.fn.jplist.HelperService.removeCharacters(o,i),jQuery.fn.jplist.FiltersService.advancedSearchParse(a,o)&&u.push(o);u.length===t.length&&s.push(r)}return s},jQuery.fn.jplist.FiltersService.textFilter=function(t,e,r,i,n,s,o,a){var l,u,p,c=[];n=n||"contains";for(var h=0;h<r.length;h++)if(u=(l=r[h]).findPathitem(e),"default"===e.jqPath)c.push(l);else if(u)switch(u=jQuery.trim(jQuery.fn.jplist.HelperService.removeCharacters(u.text,i)),p=jQuery.trim(jQuery.fn.jplist.HelperService.removeCharacters(t,i)),n){case"startsWith":u.startsWith(p)&&c.push(l);break;case"endsWith":u.endsWith(p)&&c.push(l);break;case"advanced":jQuery.fn.jplist.FiltersService.advancedSearchParse(u,p,i,s,o,a)&&c.push(l);break;case"equal":u===p&&c.push(l);break;default:-1!==u.indexOf(p)&&c.push(l)}return c},jQuery.fn.jplist.FiltersService.textFilterPathGroup=function(t,e,r,i){var n,s;i=[];var o,a,l,u=[];for(l=0;l<t.length;l++)(a=t[l]).selected&&(n=a.path,s=new jQuery.fn.jplist.PathModel(n,null),a.pathObj=s,i.push(a));if(i.length<=0)return r;for(n=0;n<r.length;n++){t=r[n],l=!1;for(var p=0;p<i.length;p++)if(s=(a=i[p]).pathObj){if("default"===s.jqPath){l=!0;break}if(s=t.findPathitem(s))switch(s=jQuery.trim(jQuery.fn.jplist.HelperService.removeCharacters(s.text,e)),o=jQuery.trim(jQuery.fn.jplist.HelperService.removeCharacters(a.text,e)),a.mode){case"startsWith":s.startsWith(o)&&(l=!0);break;case"endsWith":s.endsWith(o)&&(l=!0);break;case"advanced":jQuery.fn.jplist.FiltersService.advancedSearchParse(s,o)&&(l=!0);break;case"equal":s===o&&(l=!0);break;default:-1!==s.indexOf(o)&&(l=!0)}}l&&u.push(t)}return u},jQuery.fn.jplist.SortService.datetimeHelper=function(t,e,r,i,n){return t=t.findPathitem(i),e=e.findPathitem(i),t&&e?(jQuery.trim(n)?(i=jQuery.fn.jplist.HelperService.formatDateTime(t.text,n),n=jQuery.fn.jplist.HelperService.formatDateTime(e.text,n)):(i=new Date(Date.parse(t.text)),n=new Date(Date.parse(e.text))),i==n?0:"asc"==r?n<i?1:-1:i<n?1:-1):0},jQuery.fn.jplist.SortService.datetime=function(r,i,t,n){t.sort(function(t,e){return jQuery.fn.jplist.SortService.datetimeHelper(t,e,r,i,n)})},jQuery.fn.jplist.SortService.numbersHelper=function(t,e,r,i){return t=t.findPathitem(i),e=e.findPathitem(i),t&&e?r=(i=parseFloat(t.text.replace(/[^-0-9\.]+/g,"")))==(e=parseFloat(e.text.replace(/[^-0-9\.]+/g,"")))?0:"asc"==r?isNaN(i)?1:isNaN(e)?-1:i-e:isNaN(i)?1:isNaN(e)?-1:e-i:0},jQuery.fn.jplist.SortService.numbers=function(r,i,t){t.sort(function(t,e){return jQuery.fn.jplist.SortService.numbersHelper(t,e,r,i)})},jQuery.fn.jplist.SortService.textHelper=function(t,e,r,i,n){return t=t.findPathitem(i),e=e.findPathitem(i),t&&e?(n?(i=new RegExp(n,"ig"),n=t.text.toString().replace(i,"").toLowerCase(),t=e.text.toString().replace(i,"").toLowerCase()):(n=t.text.toString().toLowerCase(),t=e.text.toString().toLowerCase()),n===t?0:"".localeCompare?"asc"===r?n.localeCompare(t):t.localeCompare(n):"asc"===r?t<n?1:-1:n<t?1:-1):0},jQuery.fn.jplist.SortService.text=function(r,i,t,n){t.sort(function(t,e){return jQuery.fn.jplist.SortService.textHelper(t,e,r,i,n)})},function(){var a=function(t,e,r,i){var n,s,o=0;return 0<r.length&&("default"!==(n=r[i]).data.path?(s=jQuery.fn.jplist.DTOMapperService.sort[n.data.type],jQuery.isFunction(s)&&(o=s(n,t,e))):o=(o=t.index)===(n=e.index)?0:isNaN(o)?1:isNaN(n)?-1:o-n,0===o&&i+1<r.length&&(o=a(t,e,r,i+1))),o};jQuery.fn.jplist.SortService.doubleSort=function(r,t){var e=!1;return 1===r.length&&r[0]&&r[0].data&&"default"===r[0].data.path&&(e=!0),e||t.sort(function(t,e){return a(t,e,r,0)}),t}}(),jQuery.jplist.sort=function(t,e,r,i,n,s,o){return("asc"!==e&&"desc"!==e||"text"!==r&&"number"!==r&&"datetime"!==r)&&console.log("valdation error"),e={action:"sort",name:"sort",type:"sort",data:{path:i,type:r,order:e,dateTimeFormat:s,ignore:n},inStorage:!1,inAnimation:!1,isAnimateToTop:!1,inDeepLinking:!1},i=[new jQuery.fn.jplist.PathModel(i,r)],r=new jQuery.fn.jplist.PubSub(jQuery("<div></div>"),{}),(t=new jQuery.fn.jplist.Dataitems(r,t,i)).sort([e]),"html"===o?t.dataviewToString():t.dataviewToJqueryObject()},function(){var l=function(t,e){var r=null;return"{month}"==t?("january"!==(e=e.toLowerCase())&&"jan"!==e&&"jan."!==e||(r=0),"february"!==e&&"feb"!==e&&"feb."!==e||(r=1),"march"!==e&&"mar"!==e&&"mar."!==e||(r=2),"april"!=e&&"apr"!==e&&"apr."!==e||(r=3),"may"===e&&(r=4),"july"!=e&&"jun"!==e&&"jun."!==e||(r=5),"april"!==e&&"jul"!==e&&"jul."!==e||(r=6),"august"!==e&&"aug"!==e&&"aug."!==e||(r=7),"september"!==e&&"sep"!==e&&"sep."!==e||(r=8),"october"!==e&&"oct"!==e&&"oct."!==e||(r=9),"november"!==e&&"nov"!==e&&"nov."!==e||(r=10),"december"!==e&&"dec"!==e&&"dec."!==e||(r=11),null===r&&(r=parseInt(e,10),isNaN(r)||r--)):r=parseInt(e,10),r},u=function(t,e){var r,i=null;return r=t.replace(/{year}|{month}|{day}|{hour}|{min}|{sec}/g,".*"),(r=new RegExp(r,"g").exec(e))&&1<r.length&&(i=r[1]),i};jQuery.fn.jplist.HelperService={},jQuery.fn.jplist.HelperService.getOuterHtml=function(t){var e,r,i="";if(t&&t[0]&&t[0].tagName){e=t[0].attributes,r=t.html();i=i+"<"+(t=t[0].tagName.toString().toLowerCase());for(var n=0;n<e.length;n++)e[n].nodeValue&&(i+=" "+e[n].nodeName+"=",i+='"'+e[n].nodeValue+'"');i=i+">"+r,i+="</"+t+">"}return i},jQuery.fn.jplist.HelperService.removeCharacters=function(t,e){return t?t.replace(new RegExp(e,"ig"),"").toLowerCase():""},jQuery.fn.jplist.HelperService.formatDateTime=function(t,e){var r,i,n,s,o,a;return r=(e=(e=(e=(e=(e=e.replace(/\./g,"\\.")).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")).replace(/\[/g,"\\[")).replace(/\]/g,"\\]")).replace("{year}","(.*)"),(i=u(r,t))&&(i=l("{year}",i)),r=e.replace("{day}","(.*)"),(s=u(r,t))&&(s=l("{day}",s)),r=e.replace("{month}","(.*)"),(n=u(r,t))&&(n=l("{month}",n)),r=e.replace("{hour}","(.*)"),(o=u(r,t))&&(o=l("{hour}",o)),r=e.replace("{min}","(.*)"),(a=u(r,t))&&(a=l("{min}",a)),r=e.replace("{sec}","(.*)"),(r=u(r,t))&&(r=l("{sec}",r)),i&&!isNaN(i)||(i=1900),n&&!isNaN(n)||(n=0),s&&!isNaN(s)||(s=1),o&&!isNaN(o)||(o=0),a&&!isNaN(a)||(a=0),r&&!isNaN(r)||(r=0),new Date(i,n,s,o,a,r)}}(),jQuery.fn.jplist.DeepLinksService={},jQuery.fn.jplist.DeepLinksService.getUrlParams=function(t){var e,r,i=[],n=[];if(i=window.decodeURIComponent(jQuery.trim(window.location.hash.replace(t.hashStart,""))),t.deepLinking&&""!==jQuery.trim(i)){i=i.split(t.delimiter1);for(var s=0;s<i.length;s++)2===(r=(e=i[s]).split("=")).length&&(e=r[0],r=r[1],2===(e=e.split(t.delimiter0)).length&&(e={controlName:e[0],propName:e[1],propValue:r},n.push(e)))}return n},jQuery.fn.jplist.DeepLinksService.updateUrlPerControls=function(t,e){if(t.deepLinking){var r,i=""===(i=jQuery.trim(e.replace(t.hashStart,"")))?t.hashStart:t.hashStart+i;window.location.hash!==i&&(i=-1==(r=window.location.href.indexOf(t.hashStart))?window.location.href+i:window.location.href.substring(0,r)+i,"replaceState"in window.history?window.history.replaceState("","",i):window.location.replace(i))}},jQuery.fn.jplist.DOMView=function(t,e,r,i,n,s,o){this.options=e,this.$root=t,this.observer=r,this.redrawCallback=s,this.effect=o,this.$itemsBox=t.find(i).eq(0),this.$noResults=t.find(n)},jQuery.fn.jplist.DOMView.prototype.render=function(t,e,r){return i=this,s=e,o=r,a=(n=t).dataitemsToJqueryObject(),l=n.dataviewToJqueryObject(),u=!1,p=jQuery.extend(!0,{},i.options,{duration:0}),a.length<=0||l.length<=0?(i.$noResults.removeClass("jplist-hidden"),i.$itemsBox.addClass("jplist-hidden"),jQuery.isFunction(i.redrawCallback)&&i.redrawCallback(n,l,s)):(i.$noResults.addClass("jplist-hidden"),i.$itemsBox.removeClass("jplist-hidden"),i.effect&&jQuery.fn.jplist.animation?(o&&!o.inAnimation&&(u=!0),o=u?p:i.options,jQuery.fn.jplist.animation.drawItems(o,i.$itemsBox,a,l,i.effect,function(){jQuery.isFunction(i.redrawCallback)&&i.redrawCallback(n,l,s)},i.observer)):(a.detach(),i.$itemsBox.append(l),jQuery.isFunction(i.redrawCallback)&&i.redrawCallback(n,l,s))),l;var i,n,s,o,a,l,u,p},jQuery.fn.jplist.DOMController=function(t,e,r,i){this.observer=r,this.$root=t,this.listView=new jQuery.fn.jplist.DOMView(t,e,r,e.itemsBox,e.noResults,e.redrawCallback,e.effect),t=e.itemPath,e=this.$root.find(e.itemsBox).eq(0).find(t),this.collection=new jQuery.fn.jplist.Dataitems(this.observer,e,i)},jQuery.fn.jplist.DOMController.prototype.renderStatuses=function(t,e){var r;return this.collection&&(this.collection.applyStatuses(t),r=this.listView.render(this.collection,t,e)),r},jQuery.fn.jplist.DOMController.prototype.addPaths=function(t){this.collection.addPaths(t)},jQuery.fn.jplist.ItemControlFactory=function(t,e,r,i){this.options=t,this.observer=e,this.history=r,this.$root=i},jQuery.fn.jplist.ItemControlFactory.prototype.create=function(t){var e,r,i=null,n=null,s=null;return e=t.attr("data-control-type"),r={},jQuery.fn.jplist.itemControlTypes[e]&&(r=jQuery.extend(!0,{},r,jQuery.fn.jplist.itemControlTypes[e])),this.options.itemControlTypes&&this.options.itemControlTypes[e]&&(r=jQuery.extend(!0,{},r,this.options.itemControlTypes[e])),r&&(r.className&&(n=jQuery.fn.jplist.itemControls[r.className]),r.options&&(s=r.options)),e={type:e,itemControlType:r,controlTypeClass:n,controlOptions:s},(e=jQuery.extend(!0,e,{$control:t,history:this.history,observer:this.observer,options:this.options,$root:this.$root})).controlTypeClass&&jQuery.isFunction(e.controlTypeClass)&&(i=new e.controlTypeClass(e)),i},jQuery.fn.jplist.ItemControlCollection=function(t,e,r,i){var n,s;this.options=t,this.observer=e,this.history=r,this.$root=i,this.controls=[],this.controlFactory=new jQuery.fn.jplist.ItemControlFactory(t,e,r,i),this.options&&this.options.itemsBox&&(s=(n=this).$root.find(this.options.itemsBox))&&0<s.length&&s.find("[data-control-type]").each(function(){var t=jQuery(this);(t=n.controlFactory.create(t))&&n.controls.push(t)})},function(){var s=function(t){var e,r=jQuery(window).scrollTop();e=Number(t.data("top")),isNaN(e)||(e<r?t.addClass("jplist-sticky"):t.removeClass("jplist-sticky"))},e=function(t){var e=[];if("cookies"===t.options.storage||"localstorage"===t.options.storage&&jQuery.fn.jplist.LocalStorageService.supported())if("cookies"===t.options.storage&&(e=jQuery.fn.jplist.CookiesService.restoreCookies(t.options.storageName)),"localstorage"===t.options.storage&&jQuery.fn.jplist.LocalStorageService.supported()&&(e=jQuery.fn.jplist.LocalStorageService.restore(t.options.storageName)),0<e.length){for(var r=[],i=0;i<e.length;i++)e[i].inStorage&&r.push(e[i]);0<r.length&&(t.controls.setStatuses(r,!0),t.observer.trigger(t.observer.events.knownStatusesChanged,[r]))}else n(t,!0);else n(t,!0)},n=function(t,e){var r;0<(r=t.controls.getStatuses(e)).length&&t.observer.trigger(t.observer.events.knownStatusesChanged,[r])};jQuery.fn.jplist.PanelController=function(t,e,r,i){var n;this.options=e,this.$root=t,this.history=r,this.observer=i,this.controls=this.paths=this.$sticky=null,e=this.$root.find(this.options.panelPath).find("[data-control-type]"),this.controls=new jQuery.fn.jplist.ControlsCollection,this.controls.addList(e,this.history,this.$root,this.options,this.observer),this.paths=this.controls.getPaths(),this.$sticky=t.find('[data-sticky="true"]'),0<this.$sticky.length&&((n=this.$sticky).each(function(){var t=jQuery(this),e=t.offset().top;t.data("top",e),s(t)}),jQuery(window).scroll(function(){n.each(function(){s(jQuery(this))})}))},jQuery.fn.jplist.PanelController.prototype.addControl=function(t){this.controls.add(t,this.history,this.$root,this.options,this.observer),this.paths=this.controls.getPaths()},jQuery.fn.jplist.PanelController.prototype.setStatusesByDeepLink=function(){var t;(t=jQuery.fn.jplist.DeepLinksService.getUrlParams(this.options)).length<=0?e(this):this.controls.setDeepLinks(t,this.observer)},jQuery.fn.jplist.PanelController.prototype.setStatusesFromStorage=function(){e(this)},jQuery.fn.jplist.PanelController.prototype.setStatuses=function(t){this.history.addStatuses(t),this.controls.setStatuses(t,!1),this.history.addList(t)},jQuery.fn.jplist.PanelController.prototype.getStatuses=function(t){return this.controls.getStatuses(t)},jQuery.fn.jplist.PanelController.prototype.mergeStatuses=function(t){return this.controls.merge(!1,t)},jQuery.fn.jplist.PanelController.prototype.statusesChangedByDeepLinks=function(t,e){this.controls&&this.controls.statusesChangedByDeepLinks(e)},jQuery.fn.jplist.PanelController.prototype.getDeepLinksURLPerControls=function(){return this.controls.getDeepLinksUrl(this.options.delimiter1)}}(),jQuery.fn.jplist.ControlFactory=function(t,e,r,i){this.options=t,this.observer=e,this.history=r,this.$root=i},jQuery.fn.jplist.ControlFactory.prototype.create=function(t,e){var r,i,n,s,o,a,l,u,p=null;return r=t.attr("data-control-type"),o=s=n=!0,a=!1,u=l=null,(i=t.attr("data-control-deep-link"))&&"false"===i.toString()&&(n=!1),(i=t.attr("data-control-storage"))&&"false"===i.toString()&&(s=!1),(i=t.attr("data-control-animation"))&&"false"===i.toString()&&(o=!1),(i=t.attr("data-control-animate-to-top"))&&"true"===i.toString()&&(a=!0),i={},jQuery.fn.jplist.controlTypes[r]&&(i=jQuery.extend(!0,{},i,jQuery.fn.jplist.controlTypes[r])),this.options.controlTypes&&this.options.controlTypes[r]&&(i=jQuery.extend(!0,{},i,this.options.controlTypes[r])),i&&(i.className&&(l=jQuery.fn.jplist.controls[i.className]),i.options&&(u=i.options)),r={type:r,action:t.attr("data-control-action"),name:t.attr("data-control-name"),inDeepLinking:n,inStorage:s,inAnimation:o,isAnimateToTop:a,controlType:i,controlTypeClass:l,controlOptions:u,paths:[]},(r=jQuery.extend(!0,r,{$control:t,history:this.history,observer:this.observer,options:this.options,$root:this.$root,controlsCollection:e})).controlTypeClass&&jQuery.isFunction(r.controlTypeClass)&&(p=new r.controlTypeClass(r)),p},jQuery.fn.jplist.ControlFactory.prototype.getStatus=function(t){return null},jQuery.fn.jplist.ControlFactory.prototype.setStatus=function(t,e){},jQuery.fn.jplist.ControlFactory.prototype.getDeepLink=function(){return""},jQuery.fn.jplist.ControlFactory.prototype.getStatusByDeepLink=function(t,e){return null},jQuery.fn.jplist.ControlFactory.prototype.getPaths=function(t){return[]},jQuery.fn.jplist.ControlFactory.prototype.setByDeepLink=function(t){},jQuery.fn.jplist.ControlFactory.getProp=function(t,e){var r=[],i=new RegExp("^"+e+"[0-9]*$");return jQuery.each(t.data(),function(t,e){i.test(t)&&r.push(e)}),0==r.length?"":1==r.length?r[0]:r},jQuery.fn.jplist.ControlFactory.getPropPath=function(t,e){var r="";if(jQuery.isArray(t))for(var i=0;i<t.length;i++){var n="";0!==i&&(n=""+i),r+="[data-"+e+n+'="'+t[i]+'"]'}else r+="[data-"+e+'="'+t+'"]';return r},function(){var s=function(t,e){for(var r,i=[],n=0;n<t.controls.length;n++)r=t.controls[n],jQuery.isFunction(r.getStatus)&&(r=r.getStatus(e))&&jQuery.fn.jplist.StatusesService.add(i,r,!1);return i},p=function(t,e,r,i,n,s){return(e=new jQuery.fn.jplist.ControlFactory(n,s,r,i).create(e,t))&&t.controls.push(e),e};jQuery.fn.jplist.ControlsCollection=function(){this.controls=[]},jQuery.fn.jplist.ControlsCollection.prototype.merge=function(t,e){var r,i;i=[],r=s(this,t);for(var n=0;n<r.length;n++)jQuery.fn.jplist.StatusesService.add(i,r[n],!1);if(e)for(r=0;r<e.length;r++)jQuery.fn.jplist.StatusesService.add(i,e[r],!0);return i},jQuery.fn.jplist.ControlsCollection.prototype.statusesChangedByDeepLinks=function(t){for(var e,r=0;r<this.controls.length;r++)e=this.controls[r],jQuery.isFunction(e.setByDeepLink)&&e.setByDeepLink(t)},jQuery.fn.jplist.ControlsCollection.prototype.setDeepLinks=function(t,e){var r,i,n,s,o=[];for(s=0;s<t.length;s++){i=(r=t[s]).controlName;var a=[];n=void 0;for(var l=0;l<this.controls.length;l++)(n=this.controls[l]).name===i&&a.push(n);for(i=a,a=0;a<i.length;a++)n=i[a],jQuery.isFunction(n.getStatusByDeepLink)&&(n=n.getStatusByDeepLink(r.propName,r.propValue))&&jQuery.fn.jplist.StatusesService.add(o,n,!1)}e.trigger(e.events.knownStatusesChanged,[o]),e.trigger(e.events.statusesChangedByDeepLinks,[,o,t])},jQuery.fn.jplist.ControlsCollection.prototype.setStatuses=function(t,e){for(var r,i,n=[],s=0;s<t.length;s++){r=t[s],i=!1;for(var o=0;o<n.length;o++)n[o].name===r.name&&n[o].action===r.action&&(i=!0,n[o].statuses.push(r));i||n.push({name:r.name,action:r.action,statuses:[r]})}for(o=0;o<n.length;o++)if((r=n[o]).statuses&&0<r.statuses.length){i=r.statuses[0].name;s=r.statuses[0].action;for(var a=[],l=void 0,u=0;u<this.controls.length;u++)(l=this.controls[u]).name===i&&l.action===s&&a.push(l);for(i=a,s=0;s<i.length;s++)jQuery.isFunction(i[s].setStatus)&&(1<r.statuses.length?i[s].setStatus(r.statuses,e):i[s].setStatus(r.statuses[0],e))}},jQuery.fn.jplist.ControlsCollection.prototype.getDeepLinksUrl=function(t){var e,r,i=[],n=e="";r=this.controls;for(var s=0;s<r.length;s++)e=r[s],jQuery.isFunction(e.getDeepLink)&&(n=jQuery.trim(e.getDeepLink())),""!==n&&-1===jQuery.inArray(n,i)&&i.push(n);return i.join(t)},jQuery.fn.jplist.ControlsCollection.prototype.getStatuses=function(t){return s(this,t)},jQuery.fn.jplist.ControlsCollection.prototype.getPaths=function(){for(var t,e=[],r=[],i=0;i<this.controls.length;i++)if(t=this.controls[i],jQuery.isFunction(t.getPaths))for(t.getPaths(e),t=0;t<e.length;t++){for(var n=r,s=e[t],o=!1,a=0;a<n.length;a++)if(n[a].isEqual(s,!0)){o=!0;break}o||r.push(e[t])}return r},jQuery.fn.jplist.ControlsCollection.prototype.add=function(t,e,r,i,n){p(this,t,e,r,i,n)},jQuery.fn.jplist.ControlsCollection.prototype.addList=function(t,e,r,i,n){var s,o,a,l,u;s=this,o=e,a=r,l=i,u=n,t.each(function(){p(s,jQuery(this),o,a,l,u)})}}(),function(){var n=function(r){var i=function(t){var r=[];t=jQuery(),jQuery(document).find("[data-control-type]").each(function(){var t=jQuery(this),e=t.attr("data-control-type");e&&jQuery.fn.jplist.controlTypes[e]&&jQuery.fn.jplist.controlTypes[e].dropdown&&r.push(t)});for(var e=0;e<r.length;e++)t=t.add(r[e]);return t}(r);0<i.length&&(jQuery(document).click(function(){i.find("ul").hide()}),jQuery(document).off(r.DROPDOWN_CLOSE_EVENT).on(r.DROPDOWN_CLOSE_EVENT,function(t,e){i.each(function(){jQuery(this).is(e)||jQuery(this).find("ul").hide()})})),r.$control.find(".jplist-dd-panel").off().on("click",function(t){var e;t.stopPropagation(),e=(t=jQuery(this).parents("[data-control-type]")).find("ul"),jQuery(document).trigger(r.DROPDOWN_CLOSE_EVENT,[t]),e.toggle(0)})},s=function(t,e,r,i){return(e=(t={options:t,observer:e,history:r,$control:i,DROPDOWN_CLOSE_EVENT:"dropdown-close-event"}).$control.find("li:eq(0)")).addClass("active"),e=e.find("span"),t.$control.find(".jplist-dd-panel").length<=0&&t.$control.prepend('<div class="jplist-dd-panel">'+e.text()+"</div>"),n(t),jQuery.extend(this,t)};jQuery.fn.jplist.DropdownControl=function(t,e,r,i){return new s(t,e,r,i)}}(),jQuery.fn.jplist.Storage=function(t,e,r){this.storageType=t,this.storageName=e,this.cookiesExpiration=r,this.isStorageEnabled="cookies"===t||"localstorage"===t&&jQuery.fn.jplist.LocalStorageService.supported()},jQuery.fn.jplist.Storage.prototype.save=function(t){var e,r=[];if(t&&this.isStorageEnabled){for(var i=0;i<t.length;i++)(e=t[i]).inStorage&&r.push(e);"cookies"===this.storageType&&jQuery.fn.jplist.CookiesService.saveCookies(r,this.storageName,this.cookiesExpiration),"localstorage"===this.storageType&&jQuery.fn.jplist.LocalStorageService.supported()&&jQuery.fn.jplist.LocalStorageService.save(r,this.storageName)}},jQuery.fn.jplist.CookiesService={},jQuery.fn.jplist.CookiesService.setCookie=function(t,e,r){e=escape(e);var i=new Date;-1==(r=Number(r))||isNaN(r)?document.cookie=t+"="+e+";path=/;":(i.setMinutes(i.getMinutes()+r),document.cookie=t+"="+e+";path=/; expires="+i.toUTCString())},jQuery.fn.jplist.CookiesService.getCookie=function(t){var e,r,i,n=null;i=document.cookie.split(";");for(var s=0;s<i.length;s++)if(e=i[s].substr(0,i[s].indexOf("=")),r=i[s].substr(i[s].indexOf("=")+1),(e=e.replace(/^\s+|\s+$/g,""))==t){n=unescape(r);break}return n},jQuery.fn.jplist.CookiesService.saveCookies=function(t,e,r){t=JSON.stringify(t),jQuery.fn.jplist.CookiesService.setCookie(e,t,r)},jQuery.fn.jplist.CookiesService.restoreCookies=function(t){var e=[];return(t=jQuery.fn.jplist.CookiesService.getCookie(t))&&(e=jQuery.parseJSON(t)),e||(e=[]),e},jQuery.fn.jplist.LocalStorageService={},jQuery.fn.jplist.LocalStorageService.supported=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(t){return!1}},jQuery.fn.jplist.LocalStorageService.save=function(t,e){var r;r=JSON.stringify(t),window.localStorage[e]=r},jQuery.fn.jplist.LocalStorageService.restore=function(t){var e=[];return(t=window.localStorage[t])&&(e=jQuery.parseJSON(t)),e||(e=[]),e};