!function(){var e=function(t,e,r){switch(e){case"add":!function(t,e){var r,n;if(t&&t.controller&&t.controller.collection){if(r=t.controller.collection.dataitems.length,jQuery.isNumeric(e.index)&&0<=e.index&&e.index<=t.controller.collection.dataitems.length&&(r=Number(e.index)),e.$item&&t.controller.collection.addDataItem(e.$item,t.controller.collection.paths,r),e.$items)if(n=e.$items,jQuery.isArray(n))for(var i=n.length-1;0<=i;i--)t.controller.collection.addDataItem(n[i],t.controller.collection.paths,r);else n=n.find(t.options.itemPath).addBack(t.options.itemPath),jQuery(n.get().reverse()).each(function(){t.controller.collection.addDataItem(jQuery(this),t.controller.collection.paths,r)});t.observer.trigger(t.observer.events.unknownStatusesChanged,[!1])}}(t,r);break;case"del":i=r,(n=t)&&n.controller&&n.controller.collection&&(i.$item&&(n.controller.collection.delDataitem(i.$item),i.$item.remove()),i.$items&&(a=i.$items,jQuery.isArray(i.$items)&&(a=jQuery(i.$items).map(function(){return this.toArray()})),n.controller.collection.delDataitems(a),a.remove()),n.observer.trigger(n.observer.events.unknownStatusesChanged,[!1]));break;case"empty":t&&t.controller&&t.controller.collection&&(t.controller.collection.empty(),t.observer.trigger(t.observer.events.unknownStatusesChanged,[!1]));break;case"getDataItems":return e=null,t.controller&&t.controller.collection&&(e=t.controller.collection.dataitems),e;case"addControl":t&&t.panel&&t.controller&&(t.panel.addControl(r.$control),t.controller.addPaths(t.panel.paths))}var n,i,a},n=function(t,e){var i,r={observer:null,panel:null,controller:null,storage:null,$root:e};return r.options=jQuery.extend(!0,{debug:!1,command:"init",commandData:{},itemsBox:".list",itemPath:".list-item",panelPath:".panel",noResults:".jplist-no-results",redrawCallback:"",iosBtnPath:".jplist-ios-button",animateToTop:"html, body",animateToTopDuration:0,effect:"",duration:300,fps:24,storage:"",storageName:"jplist",cookiesExpiration:-1,deepLinking:!1,hashStart:"#",delimiter0:":",delimiter1:"|",delimiter2:"~",delimiter3:"!",historyLength:10},t),r.observer=new jQuery.fn.jplist.PubSub(r.$root,r.options),r.history=new jQuery.fn.jplist.History(r.$root,r.options,r.observer),r.panel=new jQuery.fn.jplist.PanelController(e,r.options,r.history,r.observer),r.storage=new jQuery.fn.jplist.Storage(r.options.storage,r.options.storageName,r.options.cookiesExpiration),r.itemControls=new jQuery.fn.jplist.ItemControlCollection(r.options,r.observer,r.history,r.$root),r.controller=new jQuery.fn.jplist.DOMController(r.$root,r.options,r.observer,r.panel.paths),(i=r).observer.on(i.observer.events.knownStatusesChanged,function(t,e){var r;if(e&&(r=i.panel.mergeStatuses(e))&&0<r.length&&(i.storage.save(r),i.controller.renderStatuses(r,i.history.getLastStatus()),r=!1,e)){for(var n=0;n<e.length;n++)if(e[n].isAnimateToTop){r=!0;break}r&&(r=jQuery(i.options.animateToTop).offset().top,jQuery("html, body").animate({scrollTop:r},i.options.animateToTopDuration))}}),i.observer.on(i.observer.events.unknownStatusesChanged,function(t,e){var r;0<(r=i.panel.getStatuses(e)).length&&(i.storage.save(r),i.controller.renderStatuses(r,i.history.getLastStatus()))}),i.observer.on(i.observer.events.statusesAppliedToList,function(t,e,r){i.panel.setStatuses(r),jQuery.fn.jplist.DeepLinksService.updateUrlPerControls(i.options,i.panel.getDeepLinksURLPerControls())}),i.observer.on(i.observer.events.statusesChangedByDeepLinks,function(t,e,r){i.panel.statusesChangedByDeepLinks(e,r)}),i.$root.find(i.options.iosBtnPath).on("click",function(){jQuery(this).next(i.options.panelPath).toggleClass("jplist-ios-show")}),r.options.deepLinking?r.panel.setStatusesByDeepLink():r.panel.setStatusesFromStorage(),jQuery.extend(this,r)};jQuery.fn.jplist=function(r){return r.command&&"init"!==r.command?(t=this.data("jplist"))?e(t,r.command,r.commandData):void 0:this.each(function(){var t,e=jQuery(this);t=new n(r,e),e.data("jplist",t)});var t},jQuery.jplist={},jQuery.fn.jplist.controls=jQuery.fn.jplist.controls||{},jQuery.fn.jplist.itemControls=jQuery.fn.jplist.itemControls||{},jQuery.fn.jplist.controlTypes={},jQuery.fn.jplist.itemControlTypes={},jQuery.fn.jplist.settings={},jQuery.fn.jplist.FiltersService=jQuery.fn.jplist.FiltersService||{},jQuery.fn.jplist.SortService=jQuery.fn.jplist.SortService||{}}(),jQuery.fn.jplist.PubSub=function(t,e){var r,n,i={options:e,$root:t,events:{unknownStatusesChanged:"1",knownStatusesChanged:"2",statusesChangedByDeepLinks:"3",listSorted:"4",listFiltered:"5",listPaginated:"6",dataItemAdded:"7",dataItemRemoved:"8",collectionReadyEvent:"9",statusesAppliedToList:"10"}};return r=i,n=jQuery.fn.trigger,r.options.debug&&(jQuery.fn.trigger=function(t){for(var e in r.events)if(r.events[e]==t){console.log(e,arguments);break}return n.apply(this,arguments)}),jQuery.extend(!0,jQuery({}),this,i)},jQuery.fn.jplist.History=function(t,e,r){this.options=e,this.observer=r,this.$root=t,this.statusesQueue=[],this.listStatusesQueue=[]},jQuery.fn.jplist.History.prototype.addStatuses=function(t){for(var e=0;e<t.length;e++)this.statusesQueue.push(t[e]),this.statusesQueue.length>this.options.historyLength&&this.statusesQueue.shift()},jQuery.fn.jplist.History.prototype.getLastStatus=function(){var t=null;return 0<this.statusesQueue.length&&(t=this.statusesQueue[this.statusesQueue.length-1]),t},jQuery.fn.jplist.History.prototype.getLastList=function(){var t=null;return 0<this.listStatusesQueue.length&&(t=this.listStatusesQueue[this.listStatusesQueue.length-1]),t},jQuery.fn.jplist.History.prototype.addList=function(t){this.listStatusesQueue.push(t),this.listStatusesQueue.length>this.options.historyLength&&this.listStatusesQueue.shift()},jQuery.fn.jplist.History.prototype.popList=function(){var t=null;return 0<this.listStatusesQueue.length&&(t=this.listStatusesQueue.pop()),t},jQuery.fn.jplist.StatusDTO=function(t,e,r,n,i,a,o,s){this.action=e,this.name=t,this.type=r,this.data=n,this.inStorage=i,this.inAnimation=a,this.isAnimateToTop=o,this.inDeepLinking=s},function(){jQuery.fn.jplist.StatusesService=jQuery.fn.jplist.StatusesService||{},jQuery.fn.jplist.StatusesService.getStatusesByAction=function(t,e){for(var r,n=[],i=0;i<e.length;i++)(r=e[i]).action===t&&n.push(r);return n},jQuery.fn.jplist.StatusesService.getSortStatuses=function(t){var e,r,n=[];if(t=jQuery.fn.jplist.StatusesService.getStatusesByAction("sort",t),jQuery.isArray(t))for(var i=0;i<t.length;i++)if((e=t[i])&&e.data&&e.data.sortGroup&&jQuery.isArray(e.data.sortGroup)&&0<e.data.sortGroup.length)for(var a=0;a<e.data.sortGroup.length;a++)r=new jQuery.fn.jplist.StatusDTO(e.name,e.action,e.type,e.data.sortGroup[a],e.inStorage,e.inAnimation,e.isAnimateToTop,e.inDeepLinking),n.push(r);else n.push(e);return n},jQuery.fn.jplist.StatusesService.getFilterStatuses=function(t){var e,r,n=[];if(t=jQuery.fn.jplist.StatusesService.getStatusesByAction("filter",t),jQuery.isArray(t))for(var i=0;i<t.length;i++)(e=t[i])&&e.data&&e.data.filterType&&(r=jQuery.fn.jplist.DTOMapperService.filters[e.data.filterType],jQuery.isFunction(r)&&n.push(e));return n};var s=function(t,e,r,n){for(var i,a=[],o=0;o<t.length;o++)(i=t[o])[e]===r&&(n&&(i.initialIndex=o),a.push(i));return a};jQuery.fn.jplist.StatusesService.add=function(t,e,r){var n,i,a;if(0===t.length)t.push(e);else if(0===(n=s(t,"action",e.action,!0)).length)t.push(e);else if(0===(i=s(n,"name",e.name,!1)).length)t.push(e);else{a=!1;for(var o=0;o<i.length;o++)(n=i[o]).type===e.type&&(a=!0,r&&(t[n.initialIndex]=e));a||t.push(e)}}}(),jQuery.fn.jplist.DTOMapperService=jQuery.fn.jplist.DTOMapperService||{},jQuery.fn.jplist.DTOMapperService.filters={},jQuery.fn.jplist.DTOMapperService.filters.TextFilter=function(t,e){var r=new jQuery.fn.jplist.PathModel(t.data.path,null);return jQuery.fn.jplist.FiltersService.textFilter(t.data.value,r,e,t.data.ignore,t.data.mode,t.data.not,t.data.and,t.data.or)},jQuery.fn.jplist.DTOMapperService.filters.path=function(t,e){var r=new jQuery.fn.jplist.PathModel(t.data.path,null);return jQuery.fn.jplist.FiltersService.pathFilter(r,e)},jQuery.fn.jplist.DTOMapperService.filters.range=function(t,e){var r=new jQuery.fn.jplist.PathModel(t.data.path,null);return jQuery.fn.jplist.FiltersService.rangeFilter(r,e,t.data.min,t.data.max,t.data.prev,t.data.next)},jQuery.fn.jplist.DTOMapperService.filters.date=function(t,e){var r=new jQuery.fn.jplist.PathModel(t.data.path,null);return jQuery.fn.jplist.FiltersService.dateFilter(t.data.year,t.data.month,t.data.day,r,e,t.data.format)},jQuery.fn.jplist.DTOMapperService.filters.dateRange=function(t,e){var r=new jQuery.fn.jplist.PathModel(t.data.path,null);return jQuery.fn.jplist.FiltersService.dateRangeFilter(r,e,t.data.format,t.data.prev_year,t.data.prev_month,t.data.prev_day,t.data.next_year,t.data.next_month,t.data.next_day)},jQuery.fn.jplist.DTOMapperService.filters.pathGroup=function(t,e){return jQuery.fn.jplist.FiltersService.pathGroupFilter(t.data.pathGroup,e)},jQuery.fn.jplist.DTOMapperService.filters.textGroup=function(t,e){return jQuery.fn.jplist.FiltersService.textGroupFilter(t.data.textGroup,t.data.logic,t.data.path,t.data.ignoreRegex,e,t.data.mode)},jQuery.fn.jplist.DTOMapperService.filters.textFilterPathGroup=function(t,e){return jQuery.fn.jplist.FiltersService.textFilterPathGroup(t.data.textAndPathsGroup,t.data.ignoreRegex,e,t.data.mode)},jQuery.fn.jplist.DTOMapperService.sort={},jQuery.fn.jplist.DTOMapperService.sort.text=function(t,e,r){var n=new jQuery.fn.jplist.PathModel(t.data.path,t.data.type);return jQuery.fn.jplist.SortService.textHelper(e,r,t.data.order,n,t.data.ignore||"")},jQuery.fn.jplist.DTOMapperService.sort.number=function(t,e,r){var n=new jQuery.fn.jplist.PathModel(t.data.path,t.data.type);return jQuery.fn.jplist.SortService.numbersHelper(e,r,t.data.order,n)},jQuery.fn.jplist.DTOMapperService.sort.datetime=function(t,e,r){var n=new jQuery.fn.jplist.PathModel(t.data.path,t.data.type);return jQuery.fn.jplist.SortService.datetimeHelper(e,r,t.data.order,n,t.data.dateTimeFormat||"")},jQuery.fn.jplist.PathModel=function(t,e){this.jqPath=t,this.dataType=e},jQuery.fn.jplist.PathModel.prototype.isEqual=function(t,e){var r=!1;return e?this.jqPath===t.jqPath&&(r=!0):this.jqPath===t.jqPath&&this.dataType===t.dataType&&(r=!0),r},jQuery.fn.jplist.DataItemMemberModel=function(t,e){this.$element=t,this.path=e,this.text=t.text(),this.html=t.html()},function(){var n=function(t,e){for(var r,n,i=[],a=0;a<e.length;a++)r=e[a],0<(n=t.$item.find(r.jqPath).addBack(r.jqPath)).length&&(r=new jQuery.fn.jplist.DataItemMemberModel(n,r),i.push(r));return r=new jQuery.fn.jplist.PathModel("",null),r=new jQuery.fn.jplist.DataItemMemberModel(t.$item,r),i.push(r),i};jQuery.fn.jplist.DataItemModel=function(t,e,r){this.pathitems=[],this.jqElement=this.$item=t,this.index=r,this.html=jQuery.fn.jplist.HelperService.getOuterHtml(t),this.pathitems=n(this,e)},jQuery.fn.jplist.DataItemModel.prototype.findPathitem=function(t){for(var e,r=null,n=0;n<this.pathitems.length;n++)if((e=this.pathitems[n]).path.isEqual(t,!0)){r=e;break}return r},jQuery.fn.jplist.DataItemModel.prototype.addPaths=function(t){this.pathitems=this.pathitems.concat(n(this,t))}}(),function(){var e=function(t,e){var r,n,i;if(0<(r=jQuery.fn.jplist.StatusesService.getFilterStatuses(e)).length){for(var a=0;a<r.length;a++)n=r[a],i=jQuery.fn.jplist.DTOMapperService.filters[n.data.filterType],t.dataview=i(n,t.dataview);t.observer.trigger(t.observer.events.listFiltered,[e,t])}},r=function(t,e){var r,n=null,i=0,a=0;if(0<(r=jQuery.fn.jplist.StatusesService.getStatusesByAction("paging",e)).length){for(var o=0;o<r.length;o++)(n=r[o]).data&&(jQuery.isNumeric(n.data.currentPage)&&(i=n.data.currentPage),jQuery.isNumeric(n.data.number)||"all"===n.data.number)&&(a=n.data.number);for(n=new jQuery.fn.jplist.PaginationService(i,a,t.dataview.length),i=0;i<r.length;i++)r[i].data&&(r[i].data.paging=n);t.dataview=jQuery.fn.jplist.FiltersService.pagerFilter(n,t.dataview),t.observer.trigger(t.observer.events.listPaginated,[e,t])}},n=function(t,e){var r=[];0<(r=jQuery.fn.jplist.StatusesService.getSortStatuses(e)).length&&(jQuery.fn.jplist.SortService.doubleSort(r,t.dataview),t.observer.trigger(t.observer.events.listSorted,[e,t]))},i=function(t){return jQuery(t.dataview).map(function(t,e){return e.jqElement.get()})},t=function(t){return jQuery(t.dataitems).map(function(t,e){return e.jqElement.get()})},a=function(t){t.dataview=jQuery.merge([],t.dataitems)},o=function(t,e){for(var r,n=-1,i=0;i<t.dataitems.length;i++)if(r=t.dataitems[i],(r=jQuery.fn.jplist.HelperService.getOuterHtml(r.jqElement))===jQuery.fn.jplist.HelperService.getOuterHtml(e)){n=i;break}return n},s=function(t,e){var r;-1!==(r=o(t,e))&&(t.dataitems.splice(r,1),t.observer.trigger(t.observer.events.dataItemRemoved,[e,t.dataitems]))},l=function(t,e,r,n){e=new jQuery.fn.jplist.DataItemModel(e,r,n),t.dataitems.splice(n,0,e),t.observer.trigger(t.observer.events.dataItemAdded,[e,t.dataitems])},u=function(t,e,r,n,i){for(var a;r<e.length;r++)3!==(a=e.eq(r)).get(0).nodeType&&(l(t,a,n,r),r+1<e.length&&0==r%50&&window.setTimeout(function(){u(t,e,r,n,i)},0))};jQuery.fn.jplist.Dataitems=function(t,e,r){this.dataitems=[],this.dataview=[],this.paths=r,this.observer=t,0<e.length&&(u(this,e,0,r,0),a(this)),this.observer.trigger(this.observer.events.collectionReadyEvent,[this])},jQuery.fn.jplist.Dataitems.prototype.addPaths=function(t){for(var e=0;e<this.dataitems.length;e++)this.dataitems[e].addPaths(t);a(this)},jQuery.fn.jplist.Dataitems.prototype.applyStatuses=function(t){return a(this),n(this,t),e(this,t),r(this,t),this.observer.trigger(this.observer.events.statusesAppliedToList,[this,t]),i(this)},jQuery.fn.jplist.Dataitems.prototype.filter=function(t){e(this,t)},jQuery.fn.jplist.Dataitems.prototype.sort=function(t){n(this,t)},jQuery.fn.jplist.Dataitems.prototype.pagination=function(t){r(this,t)},jQuery.fn.jplist.Dataitems.prototype.dataviewToJqueryObject=function(){return i(this)},jQuery.fn.jplist.Dataitems.prototype.dataitemsToJqueryObject=function(){return t(this)},jQuery.fn.jplist.Dataitems.prototype.resetDataview=function(){a(this)},jQuery.fn.jplist.Dataitems.prototype.empty=function(){t(this).detach(),this.dataitems=[],this.dataview=[]},jQuery.fn.jplist.Dataitems.prototype.addDataItem=function(t,e,r){l(this,t,e,r)},jQuery.fn.jplist.Dataitems.prototype.addDataItems=function(t,e,r){u(this,t,0,e,r),a(this)},jQuery.fn.jplist.Dataitems.prototype.delDataitem=function(t){s(this,t)},jQuery.fn.jplist.Dataitems.prototype.delDataitems=function(t){var e;e=this,t.each(function(){s(e,jQuery(this))})},jQuery.fn.jplist.Dataitems.prototype.indexOf=function(t){return o(this,t)},jQuery.fn.jplist.Dataitems.prototype.dataviewToString=function(){var t,e="";for(t=0;t<this.dataview.length;t++)e+=this.dataview[t].html;return e}}(),jQuery.fn.jplist.PaginationService=function(t,e,r){r=Number(r),isNaN(r)&&(r=0),r=this.itemsNumber=r,jQuery.isNumeric(e)?(e=Number(e),isNaN(e)&&(e=r)):e=r,this.itemsOnPage=e,e=(e=this.itemsOnPage)?Math.ceil(this.itemsNumber/e):0,e=this.pagesNumber=e,t=Number(t),isNaN(t)&&(t=0),e-1<t&&(t=0),this.currentPage=t,this.start=this.currentPage*this.itemsOnPage,(t=this.itemsNumber)<(e=this.start+this.itemsOnPage)&&(e=t),this.end=e,t=this.currentPage,this.prevPage=t<=0?0:t-1,t=this.currentPage,e=this.pagesNumber,this.nextPage=0===e?0:e-1<=t?e-1:t+1},jQuery.fn.jplist.PaginationGoogleService=function(t,e,r){r=Number(r),isNaN(r)&&(r=0),r=this.itemsNumber=r,jQuery.isNumeric(e)?(e=Number(e),isNaN(e)&&(e=r)):e=r,this.itemsOnPage=e,e=(e=this.itemsOnPage)?Math.ceil(this.itemsNumber/e):0,e=this.pagesNumber=e,t=Number(t),isNaN(t)&&(t=0),e-1<t&&(t=0),this.currentPage=t,this.start=this.currentPage*this.itemsOnPage,(t=this.itemsNumber)<(e=this.start+this.itemsOnPage)&&(e=t),this.end=e,t=this.currentPage,this.prevPage=t<=0?0:t-1,t=this.currentPage,e=this.pagesNumber,this.nextPage=0===e?0:e-1<=t?e-1:t+1},jQuery.fn.jplist.FiltersService.dateFilter=function(t,e,r,n,i,a){for(var o,s,l=[],u=0;u<i.length;u++)(s=(o=i[u]).findPathitem(n))&&(jQuery.isNumeric(t)&&jQuery.isNumeric(e)&&jQuery.isNumeric(r)?(s=jQuery.fn.jplist.HelperService.formatDateTime(s.text,a))&&jQuery.isFunction(s.getFullYear)&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.getFullYear()===t&&s.getMonth()===e&&s.getDate()===r&&l.push(o)):l.push(o));return l},jQuery.fn.jplist.FiltersService.dateRangeFilter=function(t,e,r,n,i,a,o,s,l){for(var u,p,c,d,h=[],f=0;f<e.length;f++)(p=(u=e[f]).findPathitem(t))&&(c=!jQuery.isNumeric(n)||!jQuery.isNumeric(i)||!jQuery.isNumeric(a),d=!jQuery.isNumeric(o)||!jQuery.isNumeric(s)||!jQuery.isNumeric(l),c||d?h.push(u):(d=jQuery.fn.jplist.HelperService.formatDateTime(p.text,r))&&jQuery.isFunction(d.getFullYear)&&(p=new Date(n,i,a),c=new Date(o,s,l),d.setHours(0),d.setMinutes(0),d.setSeconds(0),p<=d&&d<=c&&h.push(u)));return h},jQuery.fn.jplist.FiltersService.pagerFilter=function(t,e){return e.slice(t.start,t.end)},jQuery.fn.jplist.FiltersService.pathFilter=function(t,e){for(var r,n=[],i=0;i<e.length;i++)r=e[i],"default"===t.jqPath?n.push(r):r.findPathitem(t)&&n.push(r);return n},jQuery.fn.jplist.FiltersService.pathGroupFilter=function(t,e){var r,n,i=[],a=[];if(t.length<=0)return e;for(n=0;n<t.length;n++)r=t[n],r=new jQuery.fn.jplist.PathModel(r,null),i.push(r);for(var o=0;o<e.length;o++){n=e[o];for(var s=0;s<i.length;s++){if("default"===(r=i[s]).jqPath){a.push(n);break}(r=n.findPathitem(r))&&a.push(n)}}return a},jQuery.fn.jplist.FiltersService.rangeFilter=function(t,e,r,n,i,a){for(var o,s,l=[],u=[],p=0;p<e.length;p++)u=[],(r=(o=e[p]).findPathitem(t))&&0<r.$element.length&&(r.$element.each(function(){var t=Number(jQuery(this).text().replace(/[^-0-9\.]+/g,""));isNaN(t)||u.push(t)}),0<u.length&&(n=Math.max.apply(Math,u),r=Math.min.apply(Math,u),s=!0,jQuery.isNumeric(i)&&r<i&&(s=!1),jQuery.isNumeric(a)&&a<n&&(s=!1),s&&l.push(o)));return l},function(){var s=function(t,e,r,n){var i;if(!(r<e.length))return jQuery.trim(jQuery.fn.jplist.HelperService.removeCharacters(t,n));if(i=e[r],!(1<(n=t.split(i)).length))return s(t,e,r+1);for(n={operator:i,nodes:n},i=0;i<n.nodes.length;i++)t=n.nodes[i],n.nodes[i]=s(t,e,r+1);return n},u=function(t,e,r,n,i){var a=!0;if(t.nodes){for(a=0;a<t.nodes.length;a++)u(t.nodes[a],e,r,n,i);var o,s;a=t.nodes,t=t.operator,o=-1!==e.indexOf(a[0]);for(var l=1;l<a.length;l++)""!==(s=a[l])&&(-1!==r.indexOf(t)&&(o=o&&-1===e.indexOf(s)),-1!==n.indexOf(t)&&(o=o&&-1!==e.indexOf(s)),-1!==i.indexOf(t)&&(o=o||-1!==e.indexOf(s)));a=o}else a=-1!==e.indexOf(t);return a};jQuery.fn.jplist.FiltersService.advancedSearchParse=function(t,e,r,n,i,a){var o;return n&&0!=n.length||(n=["-"]),i&&0!=i.length||(i=["&&"]),a&&0!=a.length||(a=[","]),o=a.concat(i).concat(n),e=s(e,o,0,r),u(e,t,n,i,a)}}(),jQuery.fn.jplist.FiltersService.textGroupFilter=function(t,e,r,n,i,a){var o,s,l,u,p;if(a=[],t.length<=0)return i;l=new jQuery.fn.jplist.PathModel(r,null);for(var c=0;c<i.length;c++)if(s=(r=i[c]).findPathitem(l),"default"===l.jqPath)a.push(r);else if(s)if(s=jQuery.fn.jplist.HelperService.removeCharacters(s.text,n),"or"===e){for(p=0;p<t.length;p++)if(o=t[p],o=jQuery.fn.jplist.HelperService.removeCharacters(o,n),jQuery.fn.jplist.FiltersService.advancedSearchParse(s,o)){a.push(r);break}}else{for(u=[],p=0;p<t.length;p++)o=t[p],o=jQuery.fn.jplist.HelperService.removeCharacters(o,n),jQuery.fn.jplist.FiltersService.advancedSearchParse(s,o)&&u.push(o);u.length===t.length&&a.push(r)}return a},jQuery.fn.jplist.FiltersService.textFilter=function(t,e,r,n,i,a,o,s){var l,u,p,c=[];i=i||"contains";for(var d=0;d<r.length;d++)if(u=(l=r[d]).findPathitem(e),"default"===e.jqPath)c.push(l);else if(u)switch(u=jQuery.trim(jQuery.fn.jplist.HelperService.removeCharacters(u.text,n)),p=jQuery.trim(jQuery.fn.jplist.HelperService.removeCharacters(t,n)),i){case"startsWith":u.startsWith(p)&&c.push(l);break;case"endsWith":u.endsWith(p)&&c.push(l);break;case"advanced":jQuery.fn.jplist.FiltersService.advancedSearchParse(u,p,n,a,o,s)&&c.push(l);break;case"equal":u===p&&c.push(l);break;default:-1!==u.indexOf(p)&&c.push(l)}return c},jQuery.fn.jplist.FiltersService.textFilterPathGroup=function(t,e,r,n){var i,a;n=[];var o,s,l,u=[];for(l=0;l<t.length;l++)(s=t[l]).selected&&(i=s.path,a=new jQuery.fn.jplist.PathModel(i,null),s.pathObj=a,n.push(s));if(n.length<=0)return r;for(i=0;i<r.length;i++){t=r[i],l=!1;for(var p=0;p<n.length;p++)if(a=(s=n[p]).pathObj){if("default"===a.jqPath){l=!0;break}if(a=t.findPathitem(a))switch(a=jQuery.trim(jQuery.fn.jplist.HelperService.removeCharacters(a.text,e)),o=jQuery.trim(jQuery.fn.jplist.HelperService.removeCharacters(s.text,e)),s.mode){case"startsWith":a.startsWith(o)&&(l=!0);break;case"endsWith":a.endsWith(o)&&(l=!0);break;case"advanced":jQuery.fn.jplist.FiltersService.advancedSearchParse(a,o)&&(l=!0);break;case"equal":a===o&&(l=!0);break;default:-1!==a.indexOf(o)&&(l=!0)}}l&&u.push(t)}return u},jQuery.fn.jplist.SortService.datetimeHelper=function(t,e,r,n,i){return t=t.findPathitem(n),e=e.findPathitem(n),t&&e?(jQuery.trim(i)?(n=jQuery.fn.jplist.HelperService.formatDateTime(t.text,i),i=jQuery.fn.jplist.HelperService.formatDateTime(e.text,i)):(n=new Date(Date.parse(t.text)),i=new Date(Date.parse(e.text))),n==i?0:"asc"==r?i<n?1:-1:n<i?1:-1):0},jQuery.fn.jplist.SortService.datetime=function(r,n,t,i){t.sort(function(t,e){return jQuery.fn.jplist.SortService.datetimeHelper(t,e,r,n,i)})},jQuery.fn.jplist.SortService.numbersHelper=function(t,e,r,n){return t=t.findPathitem(n),e=e.findPathitem(n),t&&e?r=(n=parseFloat(t.text.replace(/[^-0-9\.]+/g,"")))==(e=parseFloat(e.text.replace(/[^-0-9\.]+/g,"")))?0:"asc"==r?isNaN(n)?1:isNaN(e)?-1:n-e:isNaN(n)?1:isNaN(e)?-1:e-n:0},jQuery.fn.jplist.SortService.numbers=function(r,n,t){t.sort(function(t,e){return jQuery.fn.jplist.SortService.numbersHelper(t,e,r,n)})},jQuery.fn.jplist.SortService.textHelper=function(t,e,r,n,i){return t=t.findPathitem(n),e=e.findPathitem(n),t&&e?(i?(n=new RegExp(i,"ig"),i=t.text.toString().replace(n,"").toLowerCase(),t=e.text.toString().replace(n,"").toLowerCase()):(i=t.text.toString().toLowerCase(),t=e.text.toString().toLowerCase()),i===t?0:"".localeCompare?"asc"===r?i.localeCompare(t):t.localeCompare(i):"asc"===r?t<i?1:-1:i<t?1:-1):0},jQuery.fn.jplist.SortService.text=function(r,n,t,i){t.sort(function(t,e){return jQuery.fn.jplist.SortService.textHelper(t,e,r,n,i)})},function(){var s=function(t,e,r,n){var i,a,o=0;return 0<r.length&&("default"!==(i=r[n]).data.path?(a=jQuery.fn.jplist.DTOMapperService.sort[i.data.type],jQuery.isFunction(a)&&(o=a(i,t,e))):o=(o=t.index)===(i=e.index)?0:isNaN(o)?1:isNaN(i)?-1:o-i,0===o&&n+1<r.length&&(o=s(t,e,r,n+1))),o};jQuery.fn.jplist.SortService.doubleSort=function(r,t){var e=!1;return 1===r.length&&r[0]&&r[0].data&&"default"===r[0].data.path&&(e=!0),e||t.sort(function(t,e){return s(t,e,r,0)}),t}}(),jQuery.jplist.sort=function(t,e,r,n,i,a,o){return("asc"!==e&&"desc"!==e||"text"!==r&&"number"!==r&&"datetime"!==r)&&console.log("valdation error"),e={action:"sort",name:"sort",type:"sort",data:{path:n,type:r,order:e,dateTimeFormat:a,ignore:i},inStorage:!1,inAnimation:!1,isAnimateToTop:!1,inDeepLinking:!1},n=[new jQuery.fn.jplist.PathModel(n,r)],r=new jQuery.fn.jplist.PubSub(jQuery("<div></div>"),{}),(t=new jQuery.fn.jplist.Dataitems(r,t,n)).sort([e]),"html"===o?t.dataviewToString():t.dataviewToJqueryObject()},function(){var l=function(t,e){var r=null;return"{month}"==t?("january"!==(e=e.toLowerCase())&&"jan"!==e&&"jan."!==e||(r=0),"february"!==e&&"feb"!==e&&"feb."!==e||(r=1),"march"!==e&&"mar"!==e&&"mar."!==e||(r=2),"april"!=e&&"apr"!==e&&"apr."!==e||(r=3),"may"===e&&(r=4),"july"!=e&&"jun"!==e&&"jun."!==e||(r=5),"april"!==e&&"jul"!==e&&"jul."!==e||(r=6),"august"!==e&&"aug"!==e&&"aug."!==e||(r=7),"september"!==e&&"sep"!==e&&"sep."!==e||(r=8),"october"!==e&&"oct"!==e&&"oct."!==e||(r=9),"november"!==e&&"nov"!==e&&"nov."!==e||(r=10),"december"!==e&&"dec"!==e&&"dec."!==e||(r=11),null===r&&(r=parseInt(e,10),isNaN(r)||r--)):r=parseInt(e,10),r},u=function(t,e){var r,n=null;return r=t.replace(/{year}|{month}|{day}|{hour}|{min}|{sec}/g,".*"),(r=new RegExp(r,"g").exec(e))&&1<r.length&&(n=r[1]),n};jQuery.fn.jplist.HelperService={},jQuery.fn.jplist.HelperService.getOuterHtml=function(t){var e,r,n="";if(t&&t[0]&&t[0].tagName){e=t[0].attributes,r=t.html();n=n+"<"+(t=t[0].tagName.toString().toLowerCase());for(var i=0;i<e.length;i++)e[i].nodeValue&&(n+=" "+e[i].nodeName+"=",n+='"'+e[i].nodeValue+'"');n=n+">"+r,n+="</"+t+">"}return n},jQuery.fn.jplist.HelperService.removeCharacters=function(t,e){return t?t.replace(new RegExp(e,"ig"),"").toLowerCase():""},jQuery.fn.jplist.HelperService.formatDateTime=function(t,e){var r,n,i,a,o,s;return r=(e=(e=(e=(e=(e=e.replace(/\./g,"\\.")).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")).replace(/\[/g,"\\[")).replace(/\]/g,"\\]")).replace("{year}","(.*)"),(n=u(r,t))&&(n=l("{year}",n)),r=e.replace("{day}","(.*)"),(a=u(r,t))&&(a=l("{day}",a)),r=e.replace("{month}","(.*)"),(i=u(r,t))&&(i=l("{month}",i)),r=e.replace("{hour}","(.*)"),(o=u(r,t))&&(o=l("{hour}",o)),r=e.replace("{min}","(.*)"),(s=u(r,t))&&(s=l("{min}",s)),r=e.replace("{sec}","(.*)"),(r=u(r,t))&&(r=l("{sec}",r)),n&&!isNaN(n)||(n=1900),i&&!isNaN(i)||(i=0),a&&!isNaN(a)||(a=1),o&&!isNaN(o)||(o=0),s&&!isNaN(s)||(s=0),r&&!isNaN(r)||(r=0),new Date(n,i,a,o,s,r)}}(),jQuery.fn.jplist.DeepLinksService={},jQuery.fn.jplist.DeepLinksService.getUrlParams=function(t){var e,r,n=[],i=[];if(n=window.decodeURIComponent(jQuery.trim(window.location.hash.replace(t.hashStart,""))),t.deepLinking&&""!==jQuery.trim(n)){n=n.split(t.delimiter1);for(var a=0;a<n.length;a++)2===(r=(e=n[a]).split("=")).length&&(e=r[0],r=r[1],2===(e=e.split(t.delimiter0)).length&&(e={controlName:e[0],propName:e[1],propValue:r},i.push(e)))}return i},jQuery.fn.jplist.DeepLinksService.updateUrlPerControls=function(t,e){if(t.deepLinking){var r,n=""===(n=jQuery.trim(e.replace(t.hashStart,"")))?t.hashStart:t.hashStart+n;window.location.hash!==n&&(n=-1==(r=window.location.href.indexOf(t.hashStart))?window.location.href+n:window.location.href.substring(0,r)+n,"replaceState"in window.history?window.history.replaceState("","",n):window.location.replace(n))}},jQuery.fn.jplist.DOMView=function(t,e,r,n,i,a,o){this.options=e,this.$root=t,this.observer=r,this.redrawCallback=a,this.effect=o,this.$itemsBox=t.find(n).eq(0),this.$noResults=t.find(i)},jQuery.fn.jplist.DOMView.prototype.render=function(t,e,r){return n=this,a=e,o=r,s=(i=t).dataitemsToJqueryObject(),l=i.dataviewToJqueryObject(),u=!1,p=jQuery.extend(!0,{},n.options,{duration:0}),s.length<=0||l.length<=0?(n.$noResults.removeClass("jplist-hidden"),n.$itemsBox.addClass("jplist-hidden"),jQuery.isFunction(n.redrawCallback)&&n.redrawCallback(i,l,a)):(n.$noResults.addClass("jplist-hidden"),n.$itemsBox.removeClass("jplist-hidden"),n.effect&&jQuery.fn.jplist.animation?(o&&!o.inAnimation&&(u=!0),o=u?p:n.options,jQuery.fn.jplist.animation.drawItems(o,n.$itemsBox,s,l,n.effect,function(){jQuery.isFunction(n.redrawCallback)&&n.redrawCallback(i,l,a)},n.observer)):(s.detach(),n.$itemsBox.append(l),jQuery.isFunction(n.redrawCallback)&&n.redrawCallback(i,l,a))),l;var n,i,a,o,s,l,u,p},jQuery.fn.jplist.DOMController=function(t,e,r,n){this.observer=r,this.$root=t,this.listView=new jQuery.fn.jplist.DOMView(t,e,r,e.itemsBox,e.noResults,e.redrawCallback,e.effect),t=e.itemPath,e=this.$root.find(e.itemsBox).eq(0).find(t),this.collection=new jQuery.fn.jplist.Dataitems(this.observer,e,n)},jQuery.fn.jplist.DOMController.prototype.renderStatuses=function(t,e){var r;return this.collection&&(this.collection.applyStatuses(t),r=this.listView.render(this.collection,t,e)),r},jQuery.fn.jplist.DOMController.prototype.addPaths=function(t){this.collection.addPaths(t)},jQuery.fn.jplist.ItemControlFactory=function(t,e,r,n){this.options=t,this.observer=e,this.history=r,this.$root=n},jQuery.fn.jplist.ItemControlFactory.prototype.create=function(t){var e,r,n=null,i=null,a=null;return e=t.attr("data-control-type"),r={},jQuery.fn.jplist.itemControlTypes[e]&&(r=jQuery.extend(!0,{},r,jQuery.fn.jplist.itemControlTypes[e])),this.options.itemControlTypes&&this.options.itemControlTypes[e]&&(r=jQuery.extend(!0,{},r,this.options.itemControlTypes[e])),r&&(r.className&&(i=jQuery.fn.jplist.itemControls[r.className]),r.options&&(a=r.options)),e={type:e,itemControlType:r,controlTypeClass:i,controlOptions:a},(e=jQuery.extend(!0,e,{$control:t,history:this.history,observer:this.observer,options:this.options,$root:this.$root})).controlTypeClass&&jQuery.isFunction(e.controlTypeClass)&&(n=new e.controlTypeClass(e)),n},jQuery.fn.jplist.ItemControlCollection=function(t,e,r,n){var i,a;this.options=t,this.observer=e,this.history=r,this.$root=n,this.controls=[],this.controlFactory=new jQuery.fn.jplist.ItemControlFactory(t,e,r,n),this.options&&this.options.itemsBox&&(a=(i=this).$root.find(this.options.itemsBox))&&0<a.length&&a.find("[data-control-type]").each(function(){var t=jQuery(this);(t=i.controlFactory.create(t))&&i.controls.push(t)})},function(){var a=function(t){var e,r=jQuery(window).scrollTop();e=Number(t.data("top")),isNaN(e)||(e<r?t.addClass("jplist-sticky"):t.removeClass("jplist-sticky"))},e=function(t){var e=[];if("cookies"===t.options.storage||"localstorage"===t.options.storage&&jQuery.fn.jplist.LocalStorageService.supported())if("cookies"===t.options.storage&&(e=jQuery.fn.jplist.CookiesService.restoreCookies(t.options.storageName)),"localstorage"===t.options.storage&&jQuery.fn.jplist.LocalStorageService.supported()&&(e=jQuery.fn.jplist.LocalStorageService.restore(t.options.storageName)),0<e.length){for(var r=[],n=0;n<e.length;n++)e[n].inStorage&&r.push(e[n]);0<r.length&&(t.controls.setStatuses(r,!0),t.observer.trigger(t.observer.events.knownStatusesChanged,[r]))}else i(t,!0);else i(t,!0)},i=function(t,e){var r;0<(r=t.controls.getStatuses(e)).length&&t.observer.trigger(t.observer.events.knownStatusesChanged,[r])};jQuery.fn.jplist.PanelController=function(t,e,r,n){var i;this.options=e,this.$root=t,this.history=r,this.observer=n,this.controls=this.paths=this.$sticky=null,e=this.$root.find(this.options.panelPath).find("[data-control-type]"),this.controls=new jQuery.fn.jplist.ControlsCollection,this.controls.addList(e,this.history,this.$root,this.options,this.observer),this.paths=this.controls.getPaths(),this.$sticky=t.find('[data-sticky="true"]'),0<this.$sticky.length&&((i=this.$sticky).each(function(){var t=jQuery(this),e=t.offset().top;t.data("top",e),a(t)}),jQuery(window).scroll(function(){i.each(function(){a(jQuery(this))})}))},jQuery.fn.jplist.PanelController.prototype.addControl=function(t){this.controls.add(t,this.history,this.$root,this.options,this.observer),this.paths=this.controls.getPaths()},jQuery.fn.jplist.PanelController.prototype.setStatusesByDeepLink=function(){var t;(t=jQuery.fn.jplist.DeepLinksService.getUrlParams(this.options)).length<=0?e(this):this.controls.setDeepLinks(t,this.observer)},jQuery.fn.jplist.PanelController.prototype.setStatusesFromStorage=function(){e(this)},jQuery.fn.jplist.PanelController.prototype.setStatuses=function(t){this.history.addStatuses(t),this.controls.setStatuses(t,!1),this.history.addList(t)},jQuery.fn.jplist.PanelController.prototype.getStatuses=function(t){return this.controls.getStatuses(t)},jQuery.fn.jplist.PanelController.prototype.mergeStatuses=function(t){return this.controls.merge(!1,t)},jQuery.fn.jplist.PanelController.prototype.statusesChangedByDeepLinks=function(t,e){this.controls&&this.controls.statusesChangedByDeepLinks(e)},jQuery.fn.jplist.PanelController.prototype.getDeepLinksURLPerControls=function(){return this.controls.getDeepLinksUrl(this.options.delimiter1)}}(),jQuery.fn.jplist.ControlFactory=function(t,e,r,n){this.options=t,this.observer=e,this.history=r,this.$root=n},jQuery.fn.jplist.ControlFactory.prototype.create=function(t,e){var r,n,i,a,o,s,l,u,p=null;return r=t.attr("data-control-type"),o=a=i=!0,s=!1,u=l=null,(n=t.attr("data-control-deep-link"))&&"false"===n.toString()&&(i=!1),(n=t.attr("data-control-storage"))&&"false"===n.toString()&&(a=!1),(n=t.attr("data-control-animation"))&&"false"===n.toString()&&(o=!1),(n=t.attr("data-control-animate-to-top"))&&"true"===n.toString()&&(s=!0),n={},jQuery.fn.jplist.controlTypes[r]&&(n=jQuery.extend(!0,{},n,jQuery.fn.jplist.controlTypes[r])),this.options.controlTypes&&this.options.controlTypes[r]&&(n=jQuery.extend(!0,{},n,this.options.controlTypes[r])),n&&(n.className&&(l=jQuery.fn.jplist.controls[n.className]),n.options&&(u=n.options)),r={type:r,action:t.attr("data-control-action"),name:t.attr("data-control-name"),inDeepLinking:i,inStorage:a,inAnimation:o,isAnimateToTop:s,controlType:n,controlTypeClass:l,controlOptions:u,paths:[]},(r=jQuery.extend(!0,r,{$control:t,history:this.history,observer:this.observer,options:this.options,$root:this.$root,controlsCollection:e})).controlTypeClass&&jQuery.isFunction(r.controlTypeClass)&&(p=new r.controlTypeClass(r)),p},jQuery.fn.jplist.ControlFactory.prototype.getStatus=function(t){return null},jQuery.fn.jplist.ControlFactory.prototype.setStatus=function(t,e){},jQuery.fn.jplist.ControlFactory.prototype.getDeepLink=function(){return""},jQuery.fn.jplist.ControlFactory.prototype.getStatusByDeepLink=function(t,e){return null},jQuery.fn.jplist.ControlFactory.prototype.getPaths=function(t){return[]},jQuery.fn.jplist.ControlFactory.prototype.setByDeepLink=function(t){},jQuery.fn.jplist.ControlFactory.getProp=function(t,e){var r=[],n=new RegExp("^"+e+"[0-9]*$");return jQuery.each(t.data(),function(t,e){n.test(t)&&r.push(e)}),0==r.length?"":1==r.length?r[0]:r},jQuery.fn.jplist.ControlFactory.getPropPath=function(t,e){var r="";if(jQuery.isArray(t))for(var n=0;n<t.length;n++){var i="";0!==n&&(i=""+n),r+="[data-"+e+i+'="'+t[n]+'"]'}else r+="[data-"+e+'="'+t+'"]';return r},function(){var a=function(t,e){for(var r,n=[],i=0;i<t.controls.length;i++)r=t.controls[i],jQuery.isFunction(r.getStatus)&&(r=r.getStatus(e))&&jQuery.fn.jplist.StatusesService.add(n,r,!1);return n},p=function(t,e,r,n,i,a){return(e=new jQuery.fn.jplist.ControlFactory(i,a,r,n).create(e,t))&&t.controls.push(e),e};jQuery.fn.jplist.ControlsCollection=function(){this.controls=[]},jQuery.fn.jplist.ControlsCollection.prototype.merge=function(t,e){var r,n;n=[],r=a(this,t);for(var i=0;i<r.length;i++)jQuery.fn.jplist.StatusesService.add(n,r[i],!1);if(e)for(r=0;r<e.length;r++)jQuery.fn.jplist.StatusesService.add(n,e[r],!0);return n},jQuery.fn.jplist.ControlsCollection.prototype.statusesChangedByDeepLinks=function(t){for(var e,r=0;r<this.controls.length;r++)e=this.controls[r],jQuery.isFunction(e.setByDeepLink)&&e.setByDeepLink(t)},jQuery.fn.jplist.ControlsCollection.prototype.setDeepLinks=function(t,e){var r,n,i,a,o=[];for(a=0;a<t.length;a++){n=(r=t[a]).controlName;var s=[];i=void 0;for(var l=0;l<this.controls.length;l++)(i=this.controls[l]).name===n&&s.push(i);for(n=s,s=0;s<n.length;s++)i=n[s],jQuery.isFunction(i.getStatusByDeepLink)&&(i=i.getStatusByDeepLink(r.propName,r.propValue))&&jQuery.fn.jplist.StatusesService.add(o,i,!1)}e.trigger(e.events.knownStatusesChanged,[o]),e.trigger(e.events.statusesChangedByDeepLinks,[,o,t])},jQuery.fn.jplist.ControlsCollection.prototype.setStatuses=function(t,e){for(var r,n,i=[],a=0;a<t.length;a++){r=t[a],n=!1;for(var o=0;o<i.length;o++)i[o].name===r.name&&i[o].action===r.action&&(n=!0,i[o].statuses.push(r));n||i.push({name:r.name,action:r.action,statuses:[r]})}for(o=0;o<i.length;o++)if((r=i[o]).statuses&&0<r.statuses.length){n=r.statuses[0].name;a=r.statuses[0].action;for(var s=[],l=void 0,u=0;u<this.controls.length;u++)(l=this.controls[u]).name===n&&l.action===a&&s.push(l);for(n=s,a=0;a<n.length;a++)jQuery.isFunction(n[a].setStatus)&&(1<r.statuses.length?n[a].setStatus(r.statuses,e):n[a].setStatus(r.statuses[0],e))}},jQuery.fn.jplist.ControlsCollection.prototype.getDeepLinksUrl=function(t){var e,r,n=[],i=e="";r=this.controls;for(var a=0;a<r.length;a++)e=r[a],jQuery.isFunction(e.getDeepLink)&&(i=jQuery.trim(e.getDeepLink())),""!==i&&-1===jQuery.inArray(i,n)&&n.push(i);return n.join(t)},jQuery.fn.jplist.ControlsCollection.prototype.getStatuses=function(t){return a(this,t)},jQuery.fn.jplist.ControlsCollection.prototype.getPaths=function(){for(var t,e=[],r=[],n=0;n<this.controls.length;n++)if(t=this.controls[n],jQuery.isFunction(t.getPaths))for(t.getPaths(e),t=0;t<e.length;t++){for(var i=r,a=e[t],o=!1,s=0;s<i.length;s++)if(i[s].isEqual(a,!0)){o=!0;break}o||r.push(e[t])}return r},jQuery.fn.jplist.ControlsCollection.prototype.add=function(t,e,r,n,i){p(this,t,e,r,n,i)},jQuery.fn.jplist.ControlsCollection.prototype.addList=function(t,e,r,n,i){var a,o,s,l,u;a=this,o=e,s=r,l=n,u=i,t.each(function(){p(a,jQuery(this),o,s,l,u)})}}(),function(){var i=function(r){var n=function(t){var r=[];t=jQuery(),jQuery(document).find("[data-control-type]").each(function(){var t=jQuery(this),e=t.attr("data-control-type");e&&jQuery.fn.jplist.controlTypes[e]&&jQuery.fn.jplist.controlTypes[e].dropdown&&r.push(t)});for(var e=0;e<r.length;e++)t=t.add(r[e]);return t}(r);0<n.length&&(jQuery(document).click(function(){n.find("ul").hide()}),jQuery(document).off(r.DROPDOWN_CLOSE_EVENT).on(r.DROPDOWN_CLOSE_EVENT,function(t,e){n.each(function(){jQuery(this).is(e)||jQuery(this).find("ul").hide()})})),r.$control.find(".jplist-dd-panel").off().on("click",function(t){var e;t.stopPropagation(),e=(t=jQuery(this).parents("[data-control-type]")).find("ul"),jQuery(document).trigger(r.DROPDOWN_CLOSE_EVENT,[t]),e.toggle(0)})},a=function(t,e,r,n){return(e=(t={options:t,observer:e,history:r,$control:n,DROPDOWN_CLOSE_EVENT:"dropdown-close-event"}).$control.find("li:eq(0)")).addClass("active"),e=e.find("span"),t.$control.find(".jplist-dd-panel").length<=0&&t.$control.prepend('<div class="jplist-dd-panel">'+e.text()+"</div>"),i(t),jQuery.extend(this,t)};jQuery.fn.jplist.DropdownControl=function(t,e,r,n){return new a(t,e,r,n)}}(),jQuery.fn.jplist.Storage=function(t,e,r){this.storageType=t,this.storageName=e,this.cookiesExpiration=r,this.isStorageEnabled="cookies"===t||"localstorage"===t&&jQuery.fn.jplist.LocalStorageService.supported()},jQuery.fn.jplist.Storage.prototype.save=function(t){var e,r=[];if(t&&this.isStorageEnabled){for(var n=0;n<t.length;n++)(e=t[n]).inStorage&&r.push(e);"cookies"===this.storageType&&jQuery.fn.jplist.CookiesService.saveCookies(r,this.storageName,this.cookiesExpiration),"localstorage"===this.storageType&&jQuery.fn.jplist.LocalStorageService.supported()&&jQuery.fn.jplist.LocalStorageService.save(r,this.storageName)}},jQuery.fn.jplist.CookiesService={},jQuery.fn.jplist.CookiesService.setCookie=function(t,e,r){e=escape(e);var n=new Date;-1==(r=Number(r))||isNaN(r)?document.cookie=t+"="+e+";path=/;":(n.setMinutes(n.getMinutes()+r),document.cookie=t+"="+e+";path=/; expires="+n.toUTCString())},jQuery.fn.jplist.CookiesService.getCookie=function(t){var e,r,n,i=null;n=document.cookie.split(";");for(var a=0;a<n.length;a++)if(e=n[a].substr(0,n[a].indexOf("=")),r=n[a].substr(n[a].indexOf("=")+1),(e=e.replace(/^\s+|\s+$/g,""))==t){i=unescape(r);break}return i},jQuery.fn.jplist.CookiesService.saveCookies=function(t,e,r){t=JSON.stringify(t),jQuery.fn.jplist.CookiesService.setCookie(e,t,r)},jQuery.fn.jplist.CookiesService.restoreCookies=function(t){var e=[];return(t=jQuery.fn.jplist.CookiesService.getCookie(t))&&(e=jQuery.parseJSON(t)),e||(e=[]),e},jQuery.fn.jplist.LocalStorageService={},jQuery.fn.jplist.LocalStorageService.supported=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(t){return!1}},jQuery.fn.jplist.LocalStorageService.save=function(t,e){var r;r=JSON.stringify(t),window.localStorage[e]=r},jQuery.fn.jplist.LocalStorageService.restore=function(t){var e=[];return(t=window.localStorage[t])&&(e=jQuery.parseJSON(t)),e||(e=[]),e},function(){var n=function(t,e){var r=null;return e?(r=t.$control.find('li:has(span[data-default="true"])').eq(0)).length<=0&&(r=t.$control.find("li:eq(0)")):r=t.$control.find(".active"),r=r.find("span"),r=new jQuery.fn.jplist.controls.DropdownFilterDTO(r.attr("data-path"),r.attr("data-type")),new jQuery.fn.jplist.StatusDTO(t.name,t.action,t.type,r,t.inStorage,t.inAnimation,t.isAnimateToTop,t.inDeepLinking)},i=function(t,e){var r;(r=t.$control.find("li")).removeClass("active"),(!e||e.length<=0)&&(e=r.eq(0)),0<e.length&&(e.addClass("active"),t.$control.find(".jplist-dd-panel").text(e.eq(0).text()))},e=function(t){var e;return new jQuery.fn.jplist.DropdownControl(t.options,t.observer,t.history,t.$control),(e=t).$control.find("li").off("click").on("click",function(){var t;t=jQuery(this),i(e,t),t=n(e,!1),e.observer.trigger(e.observer.events.knownStatusesChanged,[[t]])}),jQuery.extend(this,t)};e.prototype.getStatus=function(t){return n(this,t)},e.prototype.getDeepLink=function(){var t,e="";return this.inDeepLinking&&((t=n(this,!1)).data&&t.data.path&&(e=this.name+this.options.delimiter0+"path="+t.data.path)),e},e.prototype.getStatusByDeepLink=function(t,e){var r;t:if(r=null,this.inDeepLinking){if("number"!==t&&t!=="path"+this.options.delimiter2+"type"+this.options.delimiter2+"order"&&"path"!==t){r=null;break t}(r=n(this,!0)).data&&"path"===t&&r.data.path&&(r.data.path=e)}return r},e.prototype.getPaths=function(t){var e,r,n,i;e=t,this.$control.find("span").each(function(){r=jQuery(this).attr("data-path"),n=jQuery(this).attr("data-type"),r&&""!==jQuery.trim(r)&&(i=new jQuery.fn.jplist.PathModel(r,n),e.push(i))})},e.prototype.setStatus=function(t,e){var r;t&&t.data&&(r=this.$control.find('[data-path="'+t.data.path+'"]'))&&0<r.length&&i(this,r.parent("li"))},e.prototype.setByDeepLink=function(t){var e;if(t)for(var r=0;r<t.length;r++)(e=t[r]).controlName===this.name&&"path"===e.propName&&e.propValue&&this.$control.find('[data-path="'+e.propValue+'"]').trigger("click")},jQuery.fn.jplist.controls.FilterDropdown=function(t){return new e(t)},jQuery.fn.jplist.controlTypes["filter-drop-down"]={className:"FilterDropdown",options:{},dropdown:!0}}(),function(){var i=function(t,e){var r;return r=null,e?(r=t.$control.find('option[data-default="true"]').eq(0)).length<=0&&(r=t.$control.find("option").eq(0)):r=t.$control.find("option:selected"),r=new jQuery.fn.jplist.controls.DropdownFilterDTO(r.attr("data-path"),r.attr("data-type")),new jQuery.fn.jplist.StatusDTO(t.name,t.action,t.type,r,t.inStorage,t.inAnimation,t.isAnimateToTop,t.inDeepLinking)},e=function(t){var n;return(n=t).$control.change(function(){var t,e,r;t=i(n,!1),r=(e=jQuery(this).find("option:selected")).attr("data-path"),e=e.attr("data-number"),r?(t.data.path=r,t.data.type=jQuery(this).attr("data-type"),t.data.order=jQuery(this).attr("data-order")):e&&(t.data.number=e),n.observer.trigger(n.observer.events.knownStatusesChanged,[[t]])}),jQuery.extend(this,t)};e.prototype.getStatus=function(t){return i(this,t)},e.prototype.getDeepLink=function(){var t,e="";return this.inDeepLinking&&((t=i(this,!1)).data&&t.data.path&&(e=this.name+this.options.delimiter0+"path="+t.data.path)),e},e.prototype.getStatusByDeepLink=function(t,e){var r=null;return this.inDeepLinking&&((r=i(this,!0)).data&&"path"===t&&r.data.path&&(r.data.path=e)),r},e.prototype.getPaths=function(t){var e,r,n,i;e=t,this.$control.find("option").each(function(){r=jQuery(this).attr("data-path"),n=jQuery(this).attr("data-type"),r&&(i=new jQuery.fn.jplist.PathModel(r,n),e.push(i))})},e.prototype.setStatus=function(t,e){var r;(r=this.$control.find('option[data-path="'+t.data.path+'"]'))&&0<r.length&&(r.get(0).selected=!0)},jQuery.fn.jplist.controls.FilterSelect=function(t){return new e(t)},jQuery.fn.jplist.controlTypes["filter-select"]={className:"FilterSelect",options:{}}}(),function(){var i=function(t,e){var r;return(r=e.find("option[checked]")).length<=0&&(r=e.find("option").eq(0)),r},a=function(t){t.params.$dropdowns.each(function(){var t=jQuery(this);0<=(t=i(0,t)).length&&t.prop("selected",!0)})},o=function(t,r){var e,n=[];return e=null,t.params.$dropdowns.each(function(){var t=jQuery(this),e="";r?0<(t=i(0,t)).length&&(e=t.attr("value")):e=t.val(),e&&n.push(e)}),e=new jQuery.fn.jplist.controls.TextFilterDropdownGroupDTO(n,t.params.mode,t.params.dataPath,t.params.ignoreRegex),new jQuery.fn.jplist.StatusDTO(t.name,t.action,t.type,e,t.inStorage,t.inAnimation,t.isAnimateToTop,t.inDeepLinking)},e=function(t){var e;return t.params={$dropdowns:t.$control.find("select"),mode:t.$control.attr("data-mode")||"and",dataPath:t.$control.attr("data-path")||"",ignoreRegex:t.$control.attr("data-ignore-regex")||""},a(t),(e=t).params.$dropdowns.on("change",function(){e.observer.trigger(e.observer.events.unknownStatusesChanged,[!1])}),jQuery.extend(this,t)};e.prototype.getPaths=function(t){var e;this.params.dataPath&&(e=new jQuery.fn.jplist.PathModel(this.params.dataPath,"text"),t.push(e))},e.prototype.getStatus=function(t){return o(this,t)},e.prototype.setStatus=function(t,e){var r;if(a(this),t.data&&t.data.textGroup&&jQuery.isArray(t.data.textGroup)&&0<t.data.textGroup.length)for(var n=0;n<t.data.textGroup.length;n++)r=t.data.textGroup[n],0<(r=this.params.$dropdowns.find('option[value="'+r+'"]')).length&&r.prop("selected",!0)},e.prototype.getDeepLink=function(){var t,e="",r="";if(this.inDeepLinking&&((t=o(this,!1)).data&&jQuery.isArray(t.data.textGroup)&&0<t.data.textGroup.length)){for(e=0;e<t.data.textGroup.length;e++)""!==r&&(r+=this.options.delimiter2),r+=t.data.textGroup[e];e=this.name+this.options.delimiter0+"textGroup="+r}return e},e.prototype.getStatusByDeepLink=function(t,e){var r,n=null;return this.inDeepLinking&&((n=o(this,!0)).data&&"textGroup"===t&&(0<(r=e.split(this.options.delimiter2)).length&&(n.data.textGroup=r))),n},jQuery.fn.jplist.controls.FilterDropdownGroupSelectText=function(t){return new e(t)},jQuery.fn.jplist.controlTypes["dropdown-select-group-text-fitler"]={className:"FilterDropdownGroupSelectText",options:{},dropdown:!0}}(),jQuery.fn.jplist.controls.DropdownFilterDTO=function(t,e){return{path:t,type:e,filterType:"path"}},jQuery.fn.jplist.controls.TextFilterDropdownGroupDTO=function(t,e,r,n){return{textGroup:t,logic:e,path:r,ignoreRegex:n,filterType:"textGroup"}},jQuery.fn.jplist.controls.DatePickerRangeFilterDTO=function(t,e,r,n){return t={path:t,format:e,filterType:"dateRange",prev_year:"",prev_month:"",prev_day:"",next_year:"",next_month:"",next_day:""},r&&(t.prev_year=r.getFullYear(),t.prev_month=r.getMonth(),t.prev_day=r.getDate()),n&&(t.next_year=n.getFullYear(),t.next_month=n.getMonth(),t.next_day=n.getDate()),t},function(){var a=function(t,e){var r,n=null,i=n=n=null;return r=t.$control.attr("data-path").toString(),e?(n=t.params.defaultPrev,i=t.params.defaultNext):(n=t.params.$prev.datepicker("getDate"),i=t.params.$next.datepicker("getDate")),n=new jQuery.fn.jplist.controls.DatePickerRangeFilterDTO(r,t.params.dateTimeFormat,n,i),new jQuery.fn.jplist.StatusDTO(t.name,t.action,t.type,n,t.inStorage,t.inAnimation,t.isAnimateToTop,t.inDeepLinking)},i=function(t,e,r){3===(t=r.split(t.options.delimiter2)).length&&(e.data.prev_year=t[0],e.data.prev_month=t[1],e.data.prev_day=t[2])},o=function(t,e,r){3===(t=r.split(t.options.delimiter2)).length&&(e.data.next_year=t[0],e.data.next_month=t[1],e.data.next_day=t[2])},s=function(t,e){var r=null;return e&&(r="today"===e?new Date:jQuery.fn.jplist.HelperService.formatDateTime(e,t.params.dateTimeFormat)),r},e=function(t){var e,r,n,i;return t.params={datepickerFunc:function(){},$prev:t.$control.find('[data-type="prev"]'),$next:t.$control.find('[data-type="next"]'),dateTimeFormat:t.$control.attr("data-datetime-format").toString()},t.params.defaultPrev=t.params.$prev.datepicker("getDate"),t.params.defaultPrev||(t.params.defaultPrev=s(t,t.params.$prev.attr("value"))),t.params.defaultNext=t.params.$next.datepicker("getDate"),t.params.defaultNext||(t.params.defaultNext=s(t,t.params.$next.attr("value"))),r=(e=t).$control.attr("data-datepicker-func"),jQuery.isFunction(jQuery.fn.jplist.settings[r])&&(e.params.datepickerFunc=jQuery.fn.jplist.settings[r]),i={},(n=t).params.$prev.off("change").change(function(){var t;""===jQuery.trim(jQuery(this).val())&&(t=a(n,!1),n.observer.trigger(n.observer.events.knownStatusesChanged,[[t]]))}),n.params.$next.off("change").change(function(){var t;""===jQuery.trim(jQuery(this).val())&&(t=a(n,!1),n.observer.trigger(n.observer.events.knownStatusesChanged,[[t]]))}),i.onSelect=function(t,e){var r=a(n,!1);n.observer.trigger(n.observer.events.knownStatusesChanged,[[r]])},n.params.datepickerFunc(n.params.$prev,i),n.params.datepickerFunc(n.params.$next,i),(i=n.params.$prev.attr("value"))&&n.params.$prev.datepicker("setDate",i),(i=n.params.$next.attr("value"))&&n.params.$next.datepicker("setDate",i),jQuery.extend(this,t)};e.prototype.getStatus=function(t){return a(this,t)},e.prototype.getDeepLink=function(){var t,e,r,n="";return this.inDeepLinking&&((t=a(this,!1)).data&&(e=jQuery.isNumeric(t.data.prev_year)&&jQuery.isNumeric(t.data.prev_month)&&jQuery.isNumeric(t.data.prev_day),r=jQuery.isNumeric(t.data.next_year)&&jQuery.isNumeric(t.data.next_month)&&jQuery.isNumeric(t.data.next_day),e||r))&&(n+=this.name+this.options.delimiter0,e&&(n+="prev"),r&&(e&&(n+=this.options.delimiter2),n+="next"),n+="=",e&&(n+=t.data.prev_year+this.options.delimiter2+t.data.prev_month+this.options.delimiter2+t.data.prev_day),r&&(e&&(n+=this.options.delimiter3),n+=t.data.next_year+this.options.delimiter2+t.data.next_month+this.options.delimiter2+t.data.next_day)),n},e.prototype.getStatusByDeepLink=function(t,e){var r,n=null;if(this.inDeepLinking&&(delete(n=a(this,!0)).data.next_year,delete n.data.next_month,delete n.data.next_day,delete n.data.prev_year,delete n.data.prev_month,delete n.data.prev_day,n.data))switch(t){case"prev":i(this,n,e);break;case"next":o(this,n,e);break;case"prev~next":2===(r=e.split(this.options.delimiter3)).length&&(i(this,n,r[0]),o(this,n,r[1]))}return n},e.prototype.getPaths=function(t){var e;(e=this.$control.attr("data-path").toString())&&(e=new jQuery.fn.jplist.PathModel(e,"datetime"),t.push(e))},e.prototype.setStatus=function(t,e){var r;jQuery.isNumeric(t.data.prev_year)&&jQuery.isNumeric(t.data.prev_month)&&jQuery.isNumeric(t.data.prev_day)?(r=new Date(t.data.prev_year,t.data.prev_month,t.data.prev_day),this.params.$prev.datepicker("setDate",r)):this.params.$prev.val(""),jQuery.isNumeric(t.data.next_year)&&jQuery.isNumeric(t.data.next_month)&&jQuery.isNumeric(t.data.next_day)?(r=new Date(t.data.next_year,t.data.next_month,t.data.next_day),this.params.$next.datepicker("setDate",r)):this.params.$next.val("")},jQuery.fn.jplist.controls.DatePickerRangeFilter=function(t){return new e(t)},jQuery.fn.jplist.controlTypes["date-picker-range-filter"]={className:"DatePickerRangeFilter",options:{}}}(),jQuery.fn.jplist.controls.DatePickerFilterDTO=function(t,e,r){return t={path:t,format:e,filterType:"date",year:"",month:"",day:""},r&&(t.year=r.getFullYear(),t.month=r.getMonth(),t.day=r.getDate()),t},function(){var a=function(t,e){var r=null;r=r=null;return e||(r=t.$control.datepicker("getDate")),r=new jQuery.fn.jplist.controls.DatePickerFilterDTO(t.params.dataPath,t.params.dateTimeFormat,r),new jQuery.fn.jplist.StatusDTO(t.name,t.action,t.type,r,t.inStorage,t.inAnimation,t.isAnimateToTop,t.inDeepLinking)},e=function(t){var e,r,n,i;return t.params={datepickerFunc:function(){},dataPath:t.$control.attr("data-path"),dateTimeFormat:t.$control.attr("data-datetime-format")},r=(e=t).$control.attr("data-datepicker-func"),jQuery.isFunction(jQuery.fn.jplist.settings[r])&&(e.params.datepickerFunc=jQuery.fn.jplist.settings[r]),i={},(n=t).$control.off("change").on("change",function(){var t;""===jQuery.trim(jQuery(this).val())&&(t=a(n,!1),n.observer.trigger(n.observer.events.knownStatusesChanged,[[t]]))}),i.onSelect=function(t,e){n.observer.trigger(n.observer.events.knownStatusesChanged,[[a(n,!1)]])},n.params.datepickerFunc(n.$control,i),jQuery.extend(this,t)};e.prototype.getStatus=function(t){return a(this,t)},e.prototype.getDeepLink=function(){var t,e="";return this.inDeepLinking&&((t=a(this,!1)).data&&jQuery.isNumeric(t.data.year)&&jQuery.isNumeric(t.data.month)&&jQuery.isNumeric(t.data.day)&&(e+=this.name+this.options.delimiter0+"date="+t.data.year+this.options.delimiter2+t.data.month+this.options.delimiter2+t.data.day)),e},e.prototype.getStatusByDeepLink=function(t,e){var r,n=null;return this.inDeepLinking&&((n=a(this,!0)).data&&"date"===t&&(3===(r=e.split(this.options.delimiter2)).length&&(n.data.year=r[0],n.data.month=r[1],n.data.day=r[2]))),n},e.prototype.getPaths=function(t){var e;this.params.dataPath&&(e=new jQuery.fn.jplist.PathModel(this.params.dataPath,"datetime"),t.push(e))},e.prototype.setStatus=function(t,e){var r;jQuery.isNumeric(t.data.year)&&jQuery.isNumeric(t.data.month)&&jQuery.isNumeric(t.data.day)?(r=new Date(t.data.year,t.data.month,t.data.day),this.$control.datepicker("setDate",r)):this.$control.val("")},jQuery.fn.jplist.controls.DatePickerFilter=function(t){return new e(t)},jQuery.fn.jplist.controlTypes["date-picker-filter"]={className:"DatePickerFilter",options:{}}}(),jQuery.fn.jplist.controls.RangeSliderDTO=function(t,e,r,n,i){return{path:t,type:"number",filterType:"range",min:e,max:r,prev:n,next:i}},function(){var a=function(t,e){var r,n,i,a=null;a=t.params.$uiSlider.slider("option","min");return r=t.params.$uiSlider.slider("option","max"),e?(n=t.params.defaultPrev,i=t.params.defaultNext):(n=t.params.$uiSlider.slider("values",0),i=t.params.$uiSlider.slider("values",1)),a=new jQuery.fn.jplist.controls.RangeSliderDTO(t.params.dataPath,a,r,n,i),new jQuery.fn.jplist.StatusDTO(t.name,t.action,t.type,a,t.inStorage,t.inAnimation,t.isAnimateToTop,t.inDeepLinking)},e=function(t){var e,r,n,i;return t.params={$uiSlider:t.$control.find('[data-type="ui-slider"]'),$prev:t.$control.find('[data-type="prev-value"]'),$next:t.$control.find('[data-type="next-value"]'),uiSliderFunc:function(t,e,r){},uiSetValuesFunc:function(t,e,r){},controlOptions:t.controlOptions,dataPath:t.$control.attr("data-path")},r=(e=t).$control.attr("data-slider-func"),n=e.$control.attr("data-setvalues-func"),jQuery.isFunction(jQuery.fn.jplist.settings[r])&&(e.params.uiSliderFunc=jQuery.fn.jplist.settings[r]),jQuery.isFunction(jQuery.fn.jplist.settings[n])&&(e.params.uiSetValuesFunc=jQuery.fn.jplist.settings[n]),t.params.uiSliderFunc(t.params.$uiSlider,t.params.$prev,t.params.$next),t.params.uiSetValuesFunc(t.params.$uiSlider,t.params.$prev,t.params.$next),t.params.defaultPrev=t.params.$uiSlider.slider("values",0),t.params.defaultNext=t.params.$uiSlider.slider("values",1),(i=t).params.$uiSlider.on("slidechange",function(t,e){var r=a(i,!1);i.observer.trigger(i.observer.events.knownStatusesChanged,[[r]])}),jQuery.extend(this,t)};e.prototype.getStatus=function(t){return a(this,t)},e.prototype.getDeepLink=function(){var t,e="";return this.inDeepLinking&&((t=a(this,!1)).data&&jQuery.isNumeric(t.data.prev)&&jQuery.isNumeric(t.data.next)&&(e=this.name+this.options.delimiter0+"prev"+this.options.delimiter2+"next="+t.data.prev+this.options.delimiter2+t.data.next)),e},e.prototype.getStatusByDeepLink=function(t,e){var r,n=null;return this.inDeepLinking&&((n=a(this,!0)).data&&t==="prev"+this.options.delimiter2+"next"&&(2===(r=e.split(this.options.delimiter2)).length&&(n.data.prev=r[0],n.data.next=r[1]))),n},e.prototype.getPaths=function(t){var e;this.params.dataPath&&(e=new jQuery.fn.jplist.PathModel(this.params.dataPath,"number"),t.push(e))},e.prototype.setStatus=function(t,e){var r,n;jQuery.isNumeric(t.data.prev)&&jQuery.isNumeric(t.data.next)&&(r=Number(t.data.prev),n=Number(t.data.next),isNaN(r)||isNaN(n)||(this.params.$uiSlider.slider("values",0)!=r&&this.params.$uiSlider.slider("values",0,r),this.params.$uiSlider.slider("values",1)!=n&&this.params.$uiSlider.slider("values",1,n))),this.params.controlOptions&&this.params.uiSetValuesFunc(this.params.$uiSlider,this.params.$prev,this.params.$next)},jQuery.fn.jplist.controls.RangeSlider=function(t){return new e(t)},jQuery.fn.jplist.controlTypes["range-slider"]={className:"RangeSlider",options:{}}}(),function(){var e=function(t){return jQuery.extend(this,t)};e.prototype.getStatus=function(t){return t=new jQuery.fn.jplist.controls.DefaultSortDTO(this.$control.attr("data-path"),this.$control.attr("data-type"),this.$control.attr("data-order"),this.$control.attr("data-datetime-format"),this.$control.attr("data-ignore")),new jQuery.fn.jplist.StatusDTO(this.name,this.action,this.type,t,this.inStorage,this.inAnimation,this.isAnimateToTop,this.inDeepLinking)},e.prototype.getPaths=function(t){var e,r;e=this.$control.attr("data-path"),r=this.$control.attr("data-type"),e&&(e=new jQuery.fn.jplist.PathModel(e,r),t.push(e))},jQuery.fn.jplist.controls.DefaultSort=function(t){return new e(t)},jQuery.fn.jplist.controlTypes["default-sort"]={className:"DefaultSort",options:{}}}(),jQuery.fn.jplist.controls.DefaultSortDTO=function(t,e,r,n,i){return{path:t,type:e,order:r,dateTimeFormat:n,ignore:i}},function(){var i=function(t,e){var r;return r=null,e?(r=t.$control.find('option[data-default="true"]').eq(0)).length<=0&&(r=t.$control.find("option").eq(0)):r=t.$control.find("option:selected"),r=new jQuery.fn.jplist.controls.DropdownSortDTO(jQuery.fn.jplist.ControlFactory.getProp(r,"path"),jQuery.fn.jplist.ControlFactory.getProp(r,"type"),jQuery.fn.jplist.ControlFactory.getProp(r,"order"),t.params.dateTimeFormat,t.params.ignore),new jQuery.fn.jplist.StatusDTO(t.name,t.action,t.type,r,t.inStorage,t.inAnimation,t.isAnimateToTop,t.inDeepLinking)},a=function(t,e){return(t=jQuery.trim(t))?new jQuery.fn.jplist.PathModel(t,e||"text"):null},e=function(t){var r;return t.params={dateTimeFormat:t.$control.attr("data-datetime-format")||"",ignore:t.$control.attr("data-ignore")||""},(r=t).$control.on("change",function(){var t,e;t=i(r,!1),0<(e=jQuery(this).find("option:selected")).length&&(t.data.path=jQuery.fn.jplist.ControlFactory.getProp(e,"path"),t.data.type=jQuery.fn.jplist.ControlFactory.getProp(e,"type"),t.data.order=jQuery.fn.jplist.ControlFactory.getProp(e,"order")),r.observer.trigger(r.observer.events.knownStatusesChanged,[[t]])}),jQuery.extend(this,t)};e.prototype.getStatus=function(t){return i(this,t)},e.prototype.getDeepLink=function(){var t,e="";return this.inDeepLinking&&((t=i(this,!1)).data&&t.data.path&&t.data.type&&t.data.order&&(e=this.name+this.options.delimiter0+"path"+this.options.delimiter2+"type"+this.options.delimiter2+"order="+t.data.path+this.options.delimiter2+t.data.type+this.options.delimiter2+t.data.order)),e},e.prototype.getStatusByDeepLink=function(t,e){var r,n=null;return this.inDeepLinking&&((n=i(this,!0)).data&&t==="path"+this.options.delimiter2+"type"+this.options.delimiter2+"order"&&(3===(r=e.split(this.options.delimiter2)).length&&(n.data.path=r[0],n.data.type=r[1],n.data.order=r[2]))),n},e.prototype.getPaths=function(t){var i;i=t,this.$control.find("option").each(function(){var t,e,r;if(e=jQuery(this),t=jQuery.fn.jplist.ControlFactory.getProp(e,"path"),e=jQuery.fn.jplist.ControlFactory.getProp(e,"type"),jQuery.isArray(t))for(var n=0;n<t.length;n++)r=n<e.length?e[n]:"text",(r=a(t[n],r))&&i.push(r);else(r=a(t,e))&&i.push(r)})},e.prototype.setStatus=function(t,e){var r;if("default"==t.data.path)r=this.$control.find('option[data-path="default"]');else{r=jQuery.fn.jplist.ControlFactory.getPropPath(t.data.path,"path");var n=jQuery.fn.jplist.ControlFactory.getPropPath(t.data.type,"type"),i=jQuery.fn.jplist.ControlFactory.getPropPath(t.data.order,"order");r=this.$control.find("option"+r+n+i)}0<r.length&&(r.get(0).selected=!0)},jQuery.fn.jplist.controls.SortSelect=function(t){return new e(t)},jQuery.fn.jplist.controlTypes["sort-select"]={className:"SortSelect",options:{}}}(),function(){var i=function(t,e){var r=null;return e?(r=t.$control.find('li:has(span[data-default="true"])').eq(0)).length<=0&&(r=t.$control.find("li:eq(0)")):r=t.$control.find(".active"),r=r.find("span"),r=new jQuery.fn.jplist.controls.DropdownSortDTO(jQuery.fn.jplist.ControlFactory.getProp(r,"path"),jQuery.fn.jplist.ControlFactory.getProp(r,"type"),jQuery.fn.jplist.ControlFactory.getProp(r,"order"),t.params.dateTimeFormat,t.params.ignore),new jQuery.fn.jplist.StatusDTO(t.name,t.action,t.type,r,t.inStorage,t.inAnimation,t.isAnimateToTop,t.inDeepLinking)},a=function(t,e){return(t=jQuery.trim(t))?new jQuery.fn.jplist.PathModel(t,e||"text"):null},e=function(t){var r;return t.params={dateTimeFormat:t.$control.attr("data-datetime-format")||"",ignore:t.$control.attr("data-ignore")||""},new jQuery.fn.jplist.DropdownControl(t.options,t.observer,t.history,t.$control),(r=t).$control.find("li").off("click").on("click",function(){var t,e;t=i(r,!1),0<(e=jQuery(this).find("span")).length&&(t.data.path=jQuery.fn.jplist.ControlFactory.getProp(e,"path"),t.data.type=jQuery.fn.jplist.ControlFactory.getProp(e,"type"),t.data.order=jQuery.fn.jplist.ControlFactory.getProp(e,"order")),r.observer.trigger(r.observer.events.knownStatusesChanged,[[t]])}),jQuery.extend(this,t)};e.prototype.getStatus=function(t){return i(this,t)},e.prototype.getDeepLink=function(){var t,e="";return this.inDeepLinking&&((t=i(this,!1)).data&&t.data.path&&t.data.type&&t.data.order&&(e=this.name+this.options.delimiter0+"path"+this.options.delimiter2+"type"+this.options.delimiter2+"order="+t.data.path+this.options.delimiter2+t.data.type+this.options.delimiter2+t.data.order)),e},e.prototype.getStatusByDeepLink=function(t,e){var r;t:{var n;if(r=null,this.inDeepLinking){if("number"!==t&&t!=="path"+this.options.delimiter2+"type"+this.options.delimiter2+"order"&&"path"!==t){r=null;break t}(r=i(this,!0)).data&&t==="path"+this.options.delimiter2+"type"+this.options.delimiter2+"order"&&(3===(n=e.split(this.options.delimiter2)).length&&(r.data.path=n[0],r.data.type=n[1],r.data.order=n[2]))}}return r},e.prototype.getPaths=function(t){var i;i=t,this.$control.find("span").each(function(){var t,e,r;if(e=jQuery(this),t=jQuery.fn.jplist.ControlFactory.getProp(e,"path"),e=jQuery.fn.jplist.ControlFactory.getProp(e,"type"),jQuery.isArray(t))for(var n=0;n<t.length;n++)r=n<e.length?e[n]:"text",(r=a(t[n],r))&&i.push(r);else(r=a(t,e))&&i.push(r)})},e.prototype.setStatus=function(t,e){var r,n;if((n=this.$control.find("li")).removeClass("active"),"default"===t.data.path)r=this.$control.find('li:has([data-path="default"])');else{r=jQuery.fn.jplist.ControlFactory.getPropPath(t.data.path,"path");var i=jQuery.fn.jplist.ControlFactory.getPropPath(t.data.type,"type"),a=jQuery.fn.jplist.ControlFactory.getPropPath(t.data.order,"order");r=this.$control.find("li:has("+r+i+a+")")}r.length<=0&&(r=n.eq(0)),r.addClass("active"),this.$control.find(".jplist-dd-panel").text(r.eq(0).text())},jQuery.fn.jplist.controls.SortDropdown=function(t){return new e(t)},jQuery.fn.jplist.controlTypes["sort-drop-down"]={className:"SortDropdown",options:{},dropdown:!0}}(),jQuery.fn.jplist.controls.DropdownSortDTO=function(t,e,r,n,i){return{path:t,type:e,order:r,dateTimeFormat:n,ignore:i}};